/*! For license information please see component---src-pages-explore-index-tsx-294218741c9985f47abc.js.LICENSE.txt */
(self.webpackChunklearn_ryqn_dev=self.webpackChunklearn_ryqn_dev||[]).push([[251],{6855:function(e){e.exports=function(e){return[...e].reduce(((e,[t,n])=>(e[t]=n,e)),{})}},1177:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ai}});var r=n(6977),o=n(6540);function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,o=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=n(6855);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,o=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.useEffect,n=(0,o.useRef)(),r=(0,o.useRef)(!1),i=(0,o.useRef)(!1),a=h((0,o.useState)(0),2);a[0];var s=a[1];r.current&&(i.current=!0),t((function(){return r.current||(n.current=e(),r.current=!0),s((function(e){return e+1})),function(){i.current&&n.current&&n.current()}}),[])}var m=n(9437);const y=new m.Zcv,b=new m.tBo,w=new m.I9Y,_=new m.Pq0,k=new m.Pq0,x=new m.Pq0,j=new m.kn4;class P extends m.Qev{constructor(e,t,n){super(),n.style.touchAction="none";let r=null,o=null;const i=[],a=this;function s(){n.addEventListener("pointermove",c),n.addEventListener("pointerdown",l),n.addEventListener("pointerup",d),n.addEventListener("pointerleave",d)}function u(){n.removeEventListener("pointermove",c),n.removeEventListener("pointerdown",l),n.removeEventListener("pointerup",d),n.removeEventListener("pointerleave",d),n.style.cursor=""}function c(s){if(!1!==a.enabled){if(h(s),b.setFromCamera(w,t),r)return b.ray.intersectPlane(y,k)&&r.position.copy(k.sub(_).applyMatrix4(j)),void a.dispatchEvent({type:"drag",object:r});if("mouse"===s.pointerType||"pen"===s.pointerType)if(i.length=0,b.setFromCamera(w,t),b.intersectObjects(e,a.recursive,i),i.length>0){const e=i[0].object;y.setFromNormalAndCoplanarPoint(t.getWorldDirection(y.normal),x.setFromMatrixPosition(e.matrixWorld)),o!==e&&null!==o&&(a.dispatchEvent({type:"hoveroff",object:o}),n.style.cursor="auto",o=null),o!==e&&(a.dispatchEvent({type:"hoveron",object:e}),n.style.cursor="pointer",o=e)}else null!==o&&(a.dispatchEvent({type:"hoveroff",object:o}),n.style.cursor="auto",o=null)}}function l(o){!1!==a.enabled&&(h(o),i.length=0,b.setFromCamera(w,t),b.intersectObjects(e,a.recursive,i),i.length>0&&(r=!0===a.transformGroup?e[0]:i[0].object,y.setFromNormalAndCoplanarPoint(t.getWorldDirection(y.normal),x.setFromMatrixPosition(r.matrixWorld)),b.ray.intersectPlane(y,k)&&(j.copy(r.parent.matrixWorld).invert(),_.copy(k).sub(x.setFromMatrixPosition(r.matrixWorld))),n.style.cursor="move",a.dispatchEvent({type:"dragstart",object:r})))}function d(){!1!==a.enabled&&(r&&(a.dispatchEvent({type:"dragend",object:r}),r=null),n.style.cursor=o?"pointer":"auto")}function h(e){const t=n.getBoundingClientRect();w.x=(e.clientX-t.left)/t.width*2-1,w.y=-(e.clientY-t.top)/t.height*2+1}s(),this.enabled=!0,this.recursive=!0,this.transformGroup=!1,this.activate=s,this.deactivate=u,this.dispose=function(){u()},this.getObjects=function(){return e},this.getRaycaster=function(){return b}}}var O={value:()=>{}};function S(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new T(r)}function T(e){this._=e}function E(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function C(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=O,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}T.prototype=S.prototype={constructor:T,on:function(e,t){var n,r,o=this._,i=(r=o,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),a=-1,s=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=i[a]).type)o[n]=C(o[n],e.name,t);else if(null==t)for(n in o)o[n]=C(o[n],e.name,null);return this}for(;++a<s;)if((n=(e=i[a]).type)&&(n=E(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new T(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};var M,A,I=S,D=0,R=0,L=0,z=1e3,N=0,F=0,B=0,q="object"==typeof performance&&performance.now?performance:Date,U="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function W(){return F||(U($),F=q.now()+B)}function $(){F=0}function H(){this._call=this._time=this._next=null}function V(e,t,n){var r=new H;return r.restart(e,t,n),r}function Y(){F=(N=q.now())+B,D=R=0;try{!function(){W(),++D;for(var e,t=M;t;)(e=F-t._time)>=0&&t._call.call(void 0,e),t=t._next;--D}()}finally{D=0,function(){var e,t,n=M,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:M=t);A=e,Z(r)}(),F=0}}function G(){var e=q.now(),t=e-N;t>z&&(B-=t,N=e)}function Z(e){D||(R&&(R=clearTimeout(R)),e-F>24?(e<1/0&&(R=setTimeout(Y,e-q.now()-B)),L&&(L=clearInterval(L))):(L||(N=q.now(),L=setInterval(G,z)),D=1,U(Y)))}H.prototype=V.prototype={constructor:H,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?W():+n)+(null==t?0:+t),this._next||A===this||(A?A._next=this:M=this,A=this),this._call=e,this._time=n,Z()},stop:function(){this._call&&(this._call=null,this._time=1/0,Z())}};const X=1664525,K=1013904223,Q=4294967296;function J(e){return e.x}function ee(e){return e.y}function te(e){return e.z}var ne=Math.PI*(3-Math.sqrt(5)),re=20*Math.PI/(9+Math.sqrt(221));function oe(e,t){t=t||2;var n,r=Math.min(3,Math.max(1,Math.round(t))),o=1,i=.001,a=1-Math.pow(i,1/300),s=0,u=.6,c=new Map,l=V(f),d=I("tick","end"),h=function(){let e=1;return()=>(e=(X*e+K)%Q)/Q}();function f(){p(),d.call("tick",n),o<i&&(l.stop(),d.call("end",n))}function p(t){var i,l,d=e.length;void 0===t&&(t=1);for(var h=0;h<t;++h)for(o+=(s-o)*a,c.forEach((function(e){e(o)})),i=0;i<d;++i)null==(l=e[i]).fx?l.x+=l.vx*=u:(l.x=l.fx,l.vx=0),r>1&&(null==l.fy?l.y+=l.vy*=u:(l.y=l.fy,l.vy=0)),r>2&&(null==l.fz?l.z+=l.vz*=u:(l.z=l.fz,l.vz=0));return n}function g(){for(var t,n=0,o=e.length;n<o;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),null!=t.fz&&(t.z=t.fz),isNaN(t.x)||r>1&&isNaN(t.y)||r>2&&isNaN(t.z)){var i=10*(r>2?Math.cbrt(.5+n):r>1?Math.sqrt(.5+n):n),a=n*ne,s=n*re;1===r?t.x=i:2===r?(t.x=i*Math.cos(a),t.y=i*Math.sin(a)):(t.x=i*Math.sin(a)*Math.cos(s),t.y=i*Math.cos(a),t.z=i*Math.sin(a)*Math.sin(s))}(isNaN(t.vx)||r>1&&isNaN(t.vy)||r>2&&isNaN(t.vz))&&(t.vx=0,r>1&&(t.vy=0),r>2&&(t.vz=0))}}function v(t){return t.initialize&&t.initialize(e,h,r),t}return null==e&&(e=[]),g(),n={tick:p,restart:function(){return l.restart(f),n},stop:function(){return l.stop(),n},numDimensions:function(e){return arguments.length?(r=Math.min(3,Math.max(1,Math.round(e))),c.forEach(v),n):r},nodes:function(t){return arguments.length?(e=t,g(),c.forEach(v),n):e},alpha:function(e){return arguments.length?(o=+e,n):o},alphaMin:function(e){return arguments.length?(i=+e,n):i},alphaDecay:function(e){return arguments.length?(a=+e,n):+a},alphaTarget:function(e){return arguments.length?(s=+e,n):s},velocityDecay:function(e){return arguments.length?(u=1-e,n):1-u},randomSource:function(e){return arguments.length?(h=e,c.forEach(v),n):h},force:function(e,t){return arguments.length>1?(null==t?c.delete(e):c.set(e,v(t)),n):c.get(e)},find:function(){var t,n,o,i,a,s,u=Array.prototype.slice.call(arguments),c=u.shift()||0,l=(r>1?u.shift():null)||0,d=(r>2?u.shift():null)||0,h=u.shift()||1/0,f=0,p=e.length;for(h*=h,f=0;f<p;++f)(i=(t=c-(a=e[f]).x)*t+(n=l-(a.y||0))*n+(o=d-(a.z||0))*o)<h&&(s=a,h=i);return s},on:function(e,t){return arguments.length>1?(d.on(e,t),n):d.on(e)}}}function ie(e){return function(){return e}}function ae(e){return 1e-6*(e()-.5)}function se(e){return e.index}function ue(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function ce(e){var t,n,r,o,i,a,s,u=se,c=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},l=ie(30),d=1;function h(r){for(var i=0,u=e.length;i<d;++i)for(var c,l,h,f,p,g=0,v=0,m=0,y=0;g<u;++g)l=(c=e[g]).source,v=(h=c.target).x+h.vx-l.x-l.vx||ae(s),o>1&&(m=h.y+h.vy-l.y-l.vy||ae(s)),o>2&&(y=h.z+h.vz-l.z-l.vz||ae(s)),v*=f=((f=Math.sqrt(v*v+m*m+y*y))-n[g])/f*r*t[g],m*=f,y*=f,h.vx-=v*(p=a[g]),o>1&&(h.vy-=m*p),o>2&&(h.vz-=y*p),l.vx+=v*(p=1-p),o>1&&(l.vy+=m*p),o>2&&(l.vz+=y*p)}function f(){if(r){var o,s,c=r.length,l=e.length,d=new Map(r.map(((e,t)=>[u(e,t,r),e])));for(o=0,i=new Array(c);o<l;++o)(s=e[o]).index=o,"object"!=typeof s.source&&(s.source=ue(d,s.source)),"object"!=typeof s.target&&(s.target=ue(d,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(o=0,a=new Array(l);o<l;++o)s=e[o],a[o]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);t=new Array(l),p(),n=new Array(l),g()}}function p(){if(r)for(var n=0,o=e.length;n<o;++n)t[n]=+c(e[n],n,e)}function g(){if(r)for(var t=0,o=e.length;t<o;++t)n[t]=+l(e[t],t,e)}return null==e&&(e=[]),h.initialize=function(e,...t){r=e,s=t.find((e=>"function"==typeof e))||Math.random,o=t.find((e=>[1,2,3].includes(e)))||2,f()},h.links=function(t){return arguments.length?(e=t,f(),h):e},h.id=function(e){return arguments.length?(u=e,h):u},h.iterations=function(e){return arguments.length?(d=+e,h):d},h.strength=function(e){return arguments.length?(c="function"==typeof e?e:ie(+e),p(),h):c},h.distance=function(e){return arguments.length?(l="function"==typeof e?e:ie(+e),g(),h):l},h}function le(e,t,n){if(isNaN(t))return e;var r,o,i,a,s,u,c=e._root,l={data:n},d=e._x0,h=e._x1;if(!c)return e._root=l,e;for(;c.length;)if((a=t>=(o=(d+h)/2))?d=o:h=o,r=c,!(c=c[s=+a]))return r[s]=l,e;if(t===(i=+e._x.call(null,c.data)))return l.next=c,r?r[s]=l:e._root=l,e;do{r=r?r[s]=new Array(2):e._root=new Array(2),(a=t>=(o=(d+h)/2))?d=o:h=o}while((s=+a)==(u=+(i>=o)));return r[u]=c,r[s]=l,e}function de(e,t,n){this.node=e,this.x0=t,this.x1=n}function he(e){return e[0]}function fe(e,t){var n=new pe(null==t?he:t,NaN,NaN);return null==e?n:n.addAll(e)}function pe(e,t,n){this._x=e,this._x0=t,this._x1=n,this._root=void 0}function ge(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var ve=fe.prototype=pe.prototype;function me(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,i,a,s,u,c,l,d,h,f=e._root,p={data:r},g=e._x0,v=e._y0,m=e._x1,y=e._y1;if(!f)return e._root=p,e;for(;f.length;)if((c=t>=(i=(g+m)/2))?g=i:m=i,(l=n>=(a=(v+y)/2))?v=a:y=a,o=f,!(f=f[d=l<<1|c]))return o[d]=p,e;if(s=+e._x.call(null,f.data),u=+e._y.call(null,f.data),t===s&&n===u)return p.next=f,o?o[d]=p:e._root=p,e;do{o=o?o[d]=new Array(4):e._root=new Array(4),(c=t>=(i=(g+m)/2))?g=i:m=i,(l=n>=(a=(v+y)/2))?v=a:y=a}while((d=l<<1|c)==(h=(u>=a)<<1|s>=i));return o[h]=f,o[d]=p,e}function ye(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function be(e){return e[0]}function we(e){return e[1]}function _e(e,t,n){var r=new ke(null==t?be:t,null==n?we:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function ke(e,t,n,r,o,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function xe(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}ve.copy=function(){var e,t,n=new pe(this._x,this._x0,this._x1),r=this._root;if(!r)return n;if(!r.length)return n._root=ge(r),n;for(e=[{source:r,target:n._root=new Array(2)}];r=e.pop();)for(var o=0;o<2;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=new Array(2)}):r.target[o]=ge(t));return n},ve.add=function(e){const t=+this._x.call(null,e);return le(this.cover(t),t,e)},ve.addAll=function(e){Array.isArray(e)||(e=Array.from(e));const t=e.length,n=new Float64Array(t);let r=1/0,o=-1/0;for(let i,a=0;a<t;++a)isNaN(i=+this._x.call(null,e[a]))||(n[a]=i,i<r&&(r=i),i>o&&(o=i));if(r>o)return this;this.cover(r).cover(o);for(let i=0;i<t;++i)le(this,n[i],e[i]);return this},ve.cover=function(e){if(isNaN(e=+e))return this;var t=this._x0,n=this._x1;if(isNaN(t))n=(t=Math.floor(e))+1;else{for(var r,o,i=n-t||1,a=this._root;t>e||e>=n;)switch(o=+(e<t),(r=new Array(2))[o]=a,a=r,i*=2,o){case 0:n=t+i;break;case 1:t=n-i}this._root&&this._root.length&&(this._root=a)}return this._x0=t,this._x1=n,this},ve.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},ve.extent=function(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]},ve.find=function(e,t){var n,r,o,i,a,s=this._x0,u=this._x1,c=[],l=this._root;for(l&&c.push(new de(l,s,u)),null==t?t=1/0:(s=e-t,u=e+t);i=c.pop();)if(!(!(l=i.node)||(r=i.x0)>u||(o=i.x1)<s))if(l.length){var d=(r+o)/2;c.push(new de(l[1],d,o),new de(l[0],r,d)),(a=+(e>=d))&&(i=c[c.length-1],c[c.length-1]=c[c.length-1-a],c[c.length-1-a]=i)}else{var h=Math.abs(e-+this._x.call(null,l.data));h<t&&(t=h,s=e-h,u=e+h,n=l.data)}return n},ve.remove=function(e){if(isNaN(i=+this._x.call(null,e)))return this;var t,n,r,o,i,a,s,u,c,l=this._root,d=this._x0,h=this._x1;if(!l)return this;if(l.length)for(;;){if((s=i>=(a=(d+h)/2))?d=a:h=a,t=l,!(l=l[u=+s]))return this;if(!l.length)break;t[u+1&1]&&(n=t,c=u)}for(;l.data!==e;)if(r=l,!(l=l.next))return this;return(o=l.next)&&delete l.next,r?(o?r.next=o:delete r.next,this):t?(o?t[u]=o:delete t[u],(l=t[0]||t[1])&&l===(t[1]||t[0])&&!l.length&&(n?n[c]=l:this._root=l),this):(this._root=o,this)},ve.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},ve.root=function(){return this._root},ve.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},ve.visit=function(e){var t,n,r,o,i=[],a=this._root;for(a&&i.push(new de(a,this._x0,this._x1));t=i.pop();)if(!e(a=t.node,r=t.x0,o=t.x1)&&a.length){var s=(r+o)/2;(n=a[1])&&i.push(new de(n,s,o)),(n=a[0])&&i.push(new de(n,r,s))}return this},ve.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new de(this._root,this._x0,this._x1));t=n.pop();){var o=t.node;if(o.length){var i,a=t.x0,s=t.x1,u=(a+s)/2;(i=o[0])&&n.push(new de(i,a,u)),(i=o[1])&&n.push(new de(i,u,s))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.x1);return this},ve.x=function(e){return arguments.length?(this._x=e,this):this._x};var je=_e.prototype=ke.prototype;function Pe(e,t,n,r,o){if(isNaN(t)||isNaN(n)||isNaN(r))return e;var i,a,s,u,c,l,d,h,f,p,g,v,m=e._root,y={data:o},b=e._x0,w=e._y0,_=e._z0,k=e._x1,x=e._y1,j=e._z1;if(!m)return e._root=y,e;for(;m.length;)if((h=t>=(a=(b+k)/2))?b=a:k=a,(f=n>=(s=(w+x)/2))?w=s:x=s,(p=r>=(u=(_+j)/2))?_=u:j=u,i=m,!(m=m[g=p<<2|f<<1|h]))return i[g]=y,e;if(c=+e._x.call(null,m.data),l=+e._y.call(null,m.data),d=+e._z.call(null,m.data),t===c&&n===l&&r===d)return y.next=m,i?i[g]=y:e._root=y,e;do{i=i?i[g]=new Array(8):e._root=new Array(8),(h=t>=(a=(b+k)/2))?b=a:k=a,(f=n>=(s=(w+x)/2))?w=s:x=s,(p=r>=(u=(_+j)/2))?_=u:j=u}while((g=p<<2|f<<1|h)==(v=(d>=u)<<2|(l>=s)<<1|c>=a));return i[v]=m,i[g]=y,e}function Oe(e,t,n,r,o,i,a){this.node=e,this.x0=t,this.y0=n,this.z0=r,this.x1=o,this.y1=i,this.z1=a}function Se(e){return e[0]}function Te(e){return e[1]}function Ee(e){return e[2]}function Ce(e,t,n,r){var o=new Me(null==t?Se:t,null==n?Te:n,null==r?Ee:r,NaN,NaN,NaN,NaN,NaN,NaN);return null==e?o:o.addAll(e)}function Me(e,t,n,r,o,i,a,s,u){this._x=e,this._y=t,this._z=n,this._x0=r,this._y0=o,this._z0=i,this._x1=a,this._y1=s,this._z1=u,this._root=void 0}function Ae(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}je.copy=function(){var e,t,n=new ke(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=xe(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var o=0;o<4;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=new Array(4)}):r.target[o]=xe(t));return n},je.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return me(this.cover(t,n),t,n,e)},je.addAll=function(e){var t,n,r,o,i=e.length,a=new Array(i),s=new Array(i),u=1/0,c=1/0,l=-1/0,d=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=r,s[n]=o,r<u&&(u=r),r>l&&(l=r),o<c&&(c=o),o>d&&(d=o));if(u>l||c>d)return this;for(this.cover(u,c).cover(l,d),n=0;n<i;++n)me(this,a[n],s[n],e[n]);return this},je.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var a,s,u=o-n||1,c=this._root;n>e||e>=o||r>t||t>=i;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=c,c=a,u*=2,s){case 0:o=n+u,i=r+u;break;case 1:n=o-u,i=r+u;break;case 2:o=n+u,r=i-u;break;case 3:n=o-u,r=i-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},je.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},je.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},je.find=function(e,t,n){var r,o,i,a,s,u,c,l=this._x0,d=this._y0,h=this._x1,f=this._y1,p=[],g=this._root;for(g&&p.push(new ye(g,l,d,h,f)),null==n?n=1/0:(l=e-n,d=t-n,h=e+n,f=t+n,n*=n);u=p.pop();)if(!(!(g=u.node)||(o=u.x0)>h||(i=u.y0)>f||(a=u.x1)<l||(s=u.y1)<d))if(g.length){var v=(o+a)/2,m=(i+s)/2;p.push(new ye(g[3],v,m,a,s),new ye(g[2],o,m,v,s),new ye(g[1],v,i,a,m),new ye(g[0],o,i,v,m)),(c=(t>=m)<<1|e>=v)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=u)}else{var y=e-+this._x.call(null,g.data),b=t-+this._y.call(null,g.data),w=y*y+b*b;if(w<n){var _=Math.sqrt(n=w);l=e-_,d=t-_,h=e+_,f=t+_,r=g.data}}return r},je.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,o,i,a,s,u,c,l,d,h,f=this._root,p=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!f)return this;if(f.length)for(;;){if((c=i>=(s=(p+v)/2))?p=s:v=s,(l=a>=(u=(g+m)/2))?g=u:m=u,t=f,!(f=f[d=l<<1|c]))return this;if(!f.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,h=d)}for(;f.data!==e;)if(r=f,!(f=f.next))return this;return(o=f.next)&&delete f.next,r?(o?r.next=o:delete r.next,this):t?(o?t[d]=o:delete t[d],(f=t[0]||t[1]||t[2]||t[3])&&f===(t[3]||t[2]||t[1]||t[0])&&!f.length&&(n?n[h]=f:this._root=f),this):(this._root=o,this)},je.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},je.root=function(){return this._root},je.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},je.visit=function(e){var t,n,r,o,i,a,s=[],u=this._root;for(u&&s.push(new ye(u,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(u=t.node,r=t.x0,o=t.y0,i=t.x1,a=t.y1)&&u.length){var c=(r+i)/2,l=(o+a)/2;(n=u[3])&&s.push(new ye(n,c,l,i,a)),(n=u[2])&&s.push(new ye(n,r,l,c,a)),(n=u[1])&&s.push(new ye(n,c,o,i,l)),(n=u[0])&&s.push(new ye(n,r,o,c,l))}return this},je.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new ye(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var o=t.node;if(o.length){var i,a=t.x0,s=t.y0,u=t.x1,c=t.y1,l=(a+u)/2,d=(s+c)/2;(i=o[0])&&n.push(new ye(i,a,s,l,d)),(i=o[1])&&n.push(new ye(i,l,s,u,d)),(i=o[2])&&n.push(new ye(i,a,d,l,c)),(i=o[3])&&n.push(new ye(i,l,d,u,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},je.x=function(e){return arguments.length?(this._x=e,this):this._x},je.y=function(e){return arguments.length?(this._y=e,this):this._y};var Ie=Ce.prototype=Me.prototype;function De(){var e,t,n,r,o,i,a=ie(-30),s=1,u=1/0,c=.81;function l(r){var i,a=e.length,s=(1===t?fe(e,J):2===t?_e(e,J,ee):3===t?Ce(e,J,ee,te):null).visitAfter(h);for(o=r,i=0;i<a;++i)n=e[i],s.visit(f)}function d(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+a(n,t,e)}}function h(e){var n,r,o,a,s,u,c=0,l=0,d=e.length;if(d){for(o=a=s=u=0;u<d;++u)(n=e[u])&&(r=Math.abs(n.value))&&(c+=n.value,l+=r,o+=r*(n.x||0),a+=r*(n.y||0),s+=r*(n.z||0));c*=Math.sqrt(4/d),e.x=o/l,t>1&&(e.y=a/l),t>2&&(e.z=s/l)}else{(n=e).x=n.data.x,t>1&&(n.y=n.data.y),t>2&&(n.z=n.data.z);do{c+=i[n.data.index]}while(n=n.next)}e.value=c}function f(e,a,l,d,h){if(!e.value)return!0;var f=[l,d,h][t-1],p=e.x-n.x,g=t>1?e.y-n.y:0,v=t>2?e.z-n.z:0,m=f-a,y=p*p+g*g+v*v;if(m*m/c<y)return y<u&&(0===p&&(y+=(p=ae(r))*p),t>1&&0===g&&(y+=(g=ae(r))*g),t>2&&0===v&&(y+=(v=ae(r))*v),y<s&&(y=Math.sqrt(s*y)),n.vx+=p*e.value*o/y,t>1&&(n.vy+=g*e.value*o/y),t>2&&(n.vz+=v*e.value*o/y)),!0;if(!(e.length||y>=u)){(e.data!==n||e.next)&&(0===p&&(y+=(p=ae(r))*p),t>1&&0===g&&(y+=(g=ae(r))*g),t>2&&0===v&&(y+=(v=ae(r))*v),y<s&&(y=Math.sqrt(s*y)));do{e.data!==n&&(m=i[e.data.index]*o/y,n.vx+=p*m,t>1&&(n.vy+=g*m),t>2&&(n.vz+=v*m))}while(e=e.next)}}return l.initialize=function(n,...o){e=n,r=o.find((e=>"function"==typeof e))||Math.random,t=o.find((e=>[1,2,3].includes(e)))||2,d()},l.strength=function(e){return arguments.length?(a="function"==typeof e?e:ie(+e),d(),l):a},l.distanceMin=function(e){return arguments.length?(s=e*e,l):Math.sqrt(s)},l.distanceMax=function(e){return arguments.length?(u=e*e,l):Math.sqrt(u)},l.theta=function(e){return arguments.length?(c=e*e,l):Math.sqrt(c)},l}function Re(e,t,n){var r,o=1;function i(){var i,a,s=r.length,u=0,c=0,l=0;for(i=0;i<s;++i)u+=(a=r[i]).x||0,c+=a.y||0,l+=a.z||0;for(u=(u/s-e)*o,c=(c/s-t)*o,l=(l/s-n)*o,i=0;i<s;++i)a=r[i],u&&(a.x-=u),c&&(a.y-=c),l&&(a.z-=l)}return null==e&&(e=0),null==t&&(t=0),null==n&&(n=0),i.initialize=function(e){r=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.z=function(e){return arguments.length?(n=+e,i):n},i.strength=function(e){return arguments.length?(o=+e,i):o},i}Ie.copy=function(){var e,t,n=new Me(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root;if(!r)return n;if(!r.length)return n._root=Ae(r),n;for(e=[{source:r,target:n._root=new Array(8)}];r=e.pop();)for(var o=0;o<8;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=new Array(8)}):r.target[o]=Ae(t));return n},Ie.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e),r=+this._z.call(null,e);return Pe(this.cover(t,n,r),t,n,r,e)},Ie.addAll=function(e){Array.isArray(e)||(e=Array.from(e));const t=e.length,n=new Float64Array(t),r=new Float64Array(t),o=new Float64Array(t);let i=1/0,a=1/0,s=1/0,u=-1/0,c=-1/0,l=-1/0;for(let d,h,f,p,g=0;g<t;++g)isNaN(h=+this._x.call(null,d=e[g]))||isNaN(f=+this._y.call(null,d))||isNaN(p=+this._z.call(null,d))||(n[g]=h,r[g]=f,o[g]=p,h<i&&(i=h),h>u&&(u=h),f<a&&(a=f),f>c&&(c=f),p<s&&(s=p),p>l&&(l=p));if(i>u||a>c||s>l)return this;this.cover(i,a,s).cover(u,c,l);for(let d=0;d<t;++d)Pe(this,n[d],r[d],o[d],e[d]);return this},Ie.cover=function(e,t,n){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(n=+n))return this;var r=this._x0,o=this._y0,i=this._z0,a=this._x1,s=this._y1,u=this._z1;if(isNaN(r))a=(r=Math.floor(e))+1,s=(o=Math.floor(t))+1,u=(i=Math.floor(n))+1;else{for(var c,l,d=a-r||1,h=this._root;r>e||e>=a||o>t||t>=s||i>n||n>=u;)switch(l=(n<i)<<2|(t<o)<<1|e<r,(c=new Array(8))[l]=h,h=c,d*=2,l){case 0:a=r+d,s=o+d,u=i+d;break;case 1:r=a-d,s=o+d,u=i+d;break;case 2:a=r+d,o=s-d,u=i+d;break;case 3:r=a-d,o=s-d,u=i+d;break;case 4:a=r+d,s=o+d,i=u-d;break;case 5:r=a-d,s=o+d,i=u-d;break;case 6:a=r+d,o=s-d,i=u-d;break;case 7:r=a-d,o=s-d,i=u-d}this._root&&this._root.length&&(this._root=h)}return this._x0=r,this._y0=o,this._z0=i,this._x1=a,this._y1=s,this._z1=u,this},Ie.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},Ie.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},Ie.find=function(e,t,n,r){var o,i,a,s,u,c,l,d,h,f=this._x0,p=this._y0,g=this._z0,v=this._x1,m=this._y1,y=this._z1,b=[],w=this._root;for(w&&b.push(new Oe(w,f,p,g,v,m,y)),null==r?r=1/0:(f=e-r,p=t-r,g=n-r,v=e+r,m=t+r,y=n+r,r*=r);d=b.pop();)if(!(!(w=d.node)||(i=d.x0)>v||(a=d.y0)>m||(s=d.z0)>y||(u=d.x1)<f||(c=d.y1)<p||(l=d.z1)<g))if(w.length){var _=(i+u)/2,k=(a+c)/2,x=(s+l)/2;b.push(new Oe(w[7],_,k,x,u,c,l),new Oe(w[6],i,k,x,_,c,l),new Oe(w[5],_,a,x,u,k,l),new Oe(w[4],i,a,x,_,k,l),new Oe(w[3],_,k,s,u,c,x),new Oe(w[2],i,k,s,_,c,x),new Oe(w[1],_,a,s,u,k,x),new Oe(w[0],i,a,s,_,k,x)),(h=(n>=x)<<2|(t>=k)<<1|e>=_)&&(d=b[b.length-1],b[b.length-1]=b[b.length-1-h],b[b.length-1-h]=d)}else{var j=e-+this._x.call(null,w.data),P=t-+this._y.call(null,w.data),O=n-+this._z.call(null,w.data),S=j*j+P*P+O*O;if(S<r){var T=Math.sqrt(r=S);f=e-T,p=t-T,g=n-T,v=e+T,m=t+T,y=n+T,o=w.data}}return o},Ie.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e))||isNaN(s=+this._z.call(null,e)))return this;var t,n,r,o,i,a,s,u,c,l,d,h,f,p,g,v=this._root,m=this._x0,y=this._y0,b=this._z0,w=this._x1,_=this._y1,k=this._z1;if(!v)return this;if(v.length)for(;;){if((d=i>=(u=(m+w)/2))?m=u:w=u,(h=a>=(c=(y+_)/2))?y=c:_=c,(f=s>=(l=(b+k)/2))?b=l:k=l,t=v,!(v=v[p=f<<2|h<<1|d]))return this;if(!v.length)break;(t[p+1&7]||t[p+2&7]||t[p+3&7]||t[p+4&7]||t[p+5&7]||t[p+6&7]||t[p+7&7])&&(n=t,g=p)}for(;v.data!==e;)if(r=v,!(v=v.next))return this;return(o=v.next)&&delete v.next,r?(o?r.next=o:delete r.next,this):t?(o?t[p]=o:delete t[p],(v=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&v===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!v.length&&(n?n[g]=v:this._root=v),this):(this._root=o,this)},Ie.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},Ie.root=function(){return this._root},Ie.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},Ie.visit=function(e){var t,n,r,o,i,a,s,u,c=[],l=this._root;for(l&&c.push(new Oe(l,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=c.pop();)if(!e(l=t.node,r=t.x0,o=t.y0,i=t.z0,a=t.x1,s=t.y1,u=t.z1)&&l.length){var d=(r+a)/2,h=(o+s)/2,f=(i+u)/2;(n=l[7])&&c.push(new Oe(n,d,h,f,a,s,u)),(n=l[6])&&c.push(new Oe(n,r,h,f,d,s,u)),(n=l[5])&&c.push(new Oe(n,d,o,f,a,h,u)),(n=l[4])&&c.push(new Oe(n,r,o,f,d,h,u)),(n=l[3])&&c.push(new Oe(n,d,h,i,a,s,f)),(n=l[2])&&c.push(new Oe(n,r,h,i,d,s,f)),(n=l[1])&&c.push(new Oe(n,d,o,i,a,h,f)),(n=l[0])&&c.push(new Oe(n,r,o,i,d,h,f))}return this},Ie.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new Oe(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=n.pop();){var o=t.node;if(o.length){var i,a=t.x0,s=t.y0,u=t.z0,c=t.x1,l=t.y1,d=t.z1,h=(a+c)/2,f=(s+l)/2,p=(u+d)/2;(i=o[0])&&n.push(new Oe(i,a,s,u,h,f,p)),(i=o[1])&&n.push(new Oe(i,h,s,u,c,f,p)),(i=o[2])&&n.push(new Oe(i,a,f,u,h,l,p)),(i=o[3])&&n.push(new Oe(i,h,f,u,c,l,p)),(i=o[4])&&n.push(new Oe(i,a,s,p,h,f,d)),(i=o[5])&&n.push(new Oe(i,h,s,p,c,f,d)),(i=o[6])&&n.push(new Oe(i,a,f,p,h,l,d)),(i=o[7])&&n.push(new Oe(i,h,f,p,c,l,d))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this},Ie.x=function(e){return arguments.length?(this._x=e,this):this._x},Ie.y=function(e){return arguments.length?(this._y=e,this):this._y},Ie.z=function(e){return arguments.length?(this._z=e,this):this._z};var Le=n(5261),ze=n(7348);var Ne=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Fe="object"==typeof global&&global&&global.Object===Object&&global,Be="object"==typeof self&&self&&self.Object===Object&&self,qe=Fe||Be||Function("return this")(),Ue=function(){return qe.Date.now()},We=/\s/;var $e=function(e){for(var t=e.length;t--&&We.test(e.charAt(t)););return t},He=/^\s+/;var Ve=function(e){return e?e.slice(0,$e(e)+1).replace(He,""):e},Ye=qe.Symbol,Ge=Object.prototype,Ze=Ge.hasOwnProperty,Xe=Ge.toString,Ke=Ye?Ye.toStringTag:void 0;var Qe=function(e){var t=Ze.call(e,Ke),n=e[Ke];try{e[Ke]=void 0;var r=!0}catch(i){}var o=Xe.call(e);return r&&(t?e[Ke]=n:delete e[Ke]),o},Je=Object.prototype.toString;var et=function(e){return Je.call(e)},tt=Ye?Ye.toStringTag:void 0;var nt=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":tt&&tt in Object(e)?Qe(e):et(e)};var rt=function(e){return null!=e&&"object"==typeof e};var ot=function(e){return"symbol"==typeof e||rt(e)&&"[object Symbol]"==nt(e)},it=/^[-+]0x[0-9a-f]+$/i,at=/^0b[01]+$/i,st=/^0o[0-7]+$/i,ut=parseInt;var ct=function(e){if("number"==typeof e)return e;if(ot(e))return NaN;if(Ne(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ne(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ve(e);var n=at.test(e);return n||st.test(e)?ut(e.slice(2),n?2:8):it.test(e)?NaN:+e},lt=Math.max,dt=Math.min;var ht=function(e,t,n){var r,o,i,a,s,u,c=0,l=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,i=o;return r=o=void 0,c=t,a=e.apply(i,n)}function p(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-c>=i}function g(){var e=Ue();if(p(e))return v(e);s=setTimeout(g,function(e){var n=t-(e-u);return d?dt(n,i-(e-c)):n}(e))}function v(e){return s=void 0,h&&r?f(e):(r=o=void 0,a)}function m(){var e=Ue(),n=p(e);if(r=arguments,o=this,u=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(g,t),l?f(e):a}(u);if(d)return clearTimeout(s),s=setTimeout(g,t),f(u)}return void 0===s&&(s=setTimeout(g,t)),a}return t=ct(t)||0,Ne(n)&&(l=!!n.leading,i=(d="maxWait"in n)?lt(ct(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h),m.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=o=s=void 0},m.flush=function(){return void 0===s?a:v(Ue())},m};function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,"symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),r)}var o,i}function pt(e,t,n){return t&&ft(e.prototype,t),n&&ft(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mt=pt((function e(t,n){var r=n.default,o=void 0===r?null:r,i=n.triggerUpdate,a=void 0===i||i,s=n.onChange,u=void 0===s?function(e,t){}:s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.defaultVal=o,this.triggerUpdate=a,this.onChange=u}));function yt(e){var t=e.stateInit,n=void 0===t?function(){return{}}:t,r=e.props,o=void 0===r?{}:r,i=e.methods,a=void 0===i?{}:i,s=e.aliases,u=void 0===s?{}:s,c=e.init,l=void 0===c?function(){}:c,d=e.update,h=void 0===d?function(){}:d,f=Object.keys(o).map((function(e){return new mt(e,o[e])}));return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},n instanceof Function?n(e):n,{initialised:!1}),r={};function o(t){return i(t,e),s(),o}var i=function(e,n){l.call(o,e,t,n),t.initialised=!0},s=ht((function(){t.initialised&&(h.call(o,t,r),r={})}),1);return f.forEach((function(e){o[e.name]=function(e){var n=e.name,i=e.triggerUpdate,a=void 0!==i&&i,u=e.onChange,c=void 0===u?function(e,t){}:u,l=e.defaultVal,d=void 0===l?null:l;return function(e){var i=t[n];if(!arguments.length)return i;var u=void 0===e?d:e;return t[n]=u,c.call(o,u,t,i),!r.hasOwnProperty(n)&&(r[n]=i),a&&s(),o}}(e)})),Object.keys(a).forEach((function(e){o[e]=function(){for(var n,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(n=a[e]).call.apply(n,[o,t].concat(i))}})),Object.entries(u).forEach((function(e){var t=gt(e,2),n=t[0],r=t[1];return o[n]=o[r]})),o.resetProps=function(){return f.forEach((function(e){o[e.name](e.defaultVal)})),o},o.resetProps(),t._rerender=s,o}}var bt=function(e){return"function"==typeof e?e:"string"==typeof e?function(t){return t[e]}:function(t){return e}};function wt(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(n>o||void 0===n&&o>=o)&&(n=o)}return n}function _t(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n}function kt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,o=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Pt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(e){return function(e){if(Array.isArray(e))return Ot(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){if(e){if("string"==typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function St(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=(t instanceof Array?t.length?t:[void 0]:[t]).map((function(e){return{keyAccessor:e,isProp:!(e instanceof Function)}})),i=e.reduce((function(e,t){var r=e,i=t;return o.forEach((function(e,t){var a,s=e.keyAccessor;if(e.isProp){var u=i,c=u[s],l=kt(u,[s].map(St));a=c,i=l}else a=s(i,t);t+1<o.length?(r.hasOwnProperty(a)||(r[a]={}),r=r[a]):n?(r.hasOwnProperty(a)||(r[a]=[]),r[a].push(i)):r[a]=i})),e}),{});n instanceof Function&&function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;r===o.length?Object.keys(t).forEach((function(e){return t[e]=n(t[e])})):Object.values(t).forEach((function(t){return e(t,r+1)}))}(i);var a=i;return r&&(a=[],function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n.length===o.length?a.push({keys:n,vals:t}):Object.entries(t).forEach((function(t){var r=xt(t,2),o=r[0],i=r[1];return e(i,[].concat(jt(n),[o]))}))}(i),t instanceof Array&&0===t.length&&1===a.length&&(a[0].keys=[])),a};function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function At(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,o=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Dt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e){return function(e){if(Array.isArray(e))return Rt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Dt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){if(e){if("string"==typeof e)return Rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rt(e,t):void 0}}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Lt=["createObj","updateObj","exitObj","objBindAttr","dataBindAttr"];function zt(e,t,n){var r=n.objBindAttr,o=void 0===r?"__obj":r,i=n.dataBindAttr,a=void 0===i?"__data":i,s=n.idAccessor,u=n.purge,c=void 0!==u&&u,l=function(e){return e.hasOwnProperty(a)},d=t.filter((function(e){return!l(e)})),h=t.filter(l).map((function(e){return e[a]})),f=c?{enter:e,exit:h,update:[]}:function(e,t,n){var r={enter:[],update:[],exit:[]};if(n){var o=Tt(e,n,!1),i=Tt(t,n,!1),a=Object.assign({},o,i);Object.entries(a).forEach((function(e){var t=At(e,2),n=t[0],a=t[1],s=o.hasOwnProperty(n)?i.hasOwnProperty(n)?"update":"exit":"enter";r[s].push("update"===s?[o[n],i[n]]:a)}))}else{var s=new Set(e),u=new Set(t);new Set([].concat(It(s),It(u))).forEach((function(e){var t=s.has(e)?u.has(e)?"update":"exit":"enter";r[t].push("update"===t?[e,e]:e)}))}return r}(h,e,s);return f.update=f.update.map((function(e){var t=At(e,2),n=t[0],r=t[1];return n!==r&&(r[o]=n[o],r[o][a]=r),r})),f.exit=f.exit.concat(d.map((function(e){return Ct({},o,e)}))),f}function Nt(e,t,n,r,o){var i=o.createObj,a=void 0===i?function(e){return{}}:i,s=o.updateObj,u=void 0===s?function(e,t){}:s,c=o.exitObj,l=void 0===c?function(e){}:c,d=o.objBindAttr,h=void 0===d?"__obj":d,f=o.dataBindAttr,p=void 0===f?"__data":f,g=Mt(o,Lt),v=zt(e,t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){Ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({objBindAttr:h,dataBindAttr:p},g)),m=v.enter,y=v.update;v.exit.forEach((function(e){var t=e[h];delete e[h],l(t),r(t)}));var b=function(e){var t=[];return e.forEach((function(e){var n=a(e);n&&(n[p]=e,e[h]=n,t.push(n))})),t}(m);!function(e){e.forEach((function(e){var t=e[h];t&&(t[p]=e,u(t,e))}))}([].concat(It(m),It(y))),b.forEach(n)}class Ft extends Map{constructor(e,t=Wt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(Bt(this,e))}has(e){return super.has(Bt(this,e))}set(e,t){return super.set(qt(this,e),t)}delete(e){return super.delete(Ut(this,e))}}Set;function Bt({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function qt({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Ut({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Wt(e){return null!==e&&"object"==typeof e?e.valueOf():e}function $t(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}const Ht=Symbol("implicit");var Vt=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function Yt(e){return Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yt(e)}var Gt=/^\s+/,Zt=/\s+$/;function Xt(e,t){if(t=t||{},(e=e||"")instanceof Xt)return e;if(!(this instanceof Xt))return new Xt(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,o=null,i=null,a=!1,s=!1;"string"==typeof e&&(e=function(e){e=e.replace(Gt,"").replace(Zt,"").toLowerCase();var t,n=!1;if(pn[e])e=pn[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=Sn.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=Sn.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=Sn.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=Sn.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=Sn.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=Sn.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=Sn.hex8.exec(e))return{r:bn(t[1]),g:bn(t[2]),b:bn(t[3]),a:xn(t[4]),format:n?"name":"hex8"};if(t=Sn.hex6.exec(e))return{r:bn(t[1]),g:bn(t[2]),b:bn(t[3]),format:n?"name":"hex"};if(t=Sn.hex4.exec(e))return{r:bn(t[1]+""+t[1]),g:bn(t[2]+""+t[2]),b:bn(t[3]+""+t[3]),a:xn(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=Sn.hex3.exec(e))return{r:bn(t[1]+""+t[1]),g:bn(t[2]+""+t[2]),b:bn(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==Yt(e)&&(Tn(e.r)&&Tn(e.g)&&Tn(e.b)?(u=e.r,c=e.g,l=e.b,t={r:255*mn(u,255),g:255*mn(c,255),b:255*mn(l,255)},a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):Tn(e.h)&&Tn(e.s)&&Tn(e.v)?(r=_n(e.s),o=_n(e.v),t=function(e,t,n){e=6*mn(e,360),t=mn(t,100),n=mn(n,100);var r=Math.floor(e),o=e-r,i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),u=r%6,c=[n,a,i,i,s,n][u],l=[s,n,n,a,i,i][u],d=[i,i,s,n,n,a][u];return{r:255*c,g:255*l,b:255*d}}(e.h,r,o),a=!0,s="hsv"):Tn(e.h)&&Tn(e.s)&&Tn(e.l)&&(r=_n(e.s),i=_n(e.l),t=function(e,t,n){var r,o,i;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=mn(e,360),t=mn(t,100),n=mn(n,100),0===t)r=o=i=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=a(u,s,e+1/3),o=a(u,s,e),i=a(u,s,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(e.h,r,i),a=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a));var u,c,l;return n=vn(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function Kt(e,t,n){e=mn(e,255),t=mn(t,255),n=mn(n,255);var r,o,i=Math.max(e,t,n),a=Math.min(e,t,n),s=(i+a)/2;if(i==a)r=o=0;else{var u=i-a;switch(o=s>.5?u/(2-i-a):u/(i+a),i){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:o,l:s}}function Qt(e,t,n){e=mn(e,255),t=mn(t,255),n=mn(n,255);var r,o,i=Math.max(e,t,n),a=Math.min(e,t,n),s=i,u=i-a;if(o=0===i?0:u/i,i==a)r=0;else{switch(i){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:o,v:s}}function Jt(e,t,n,r){var o=[wn(Math.round(e).toString(16)),wn(Math.round(t).toString(16)),wn(Math.round(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function en(e,t,n,r){return[wn(kn(r)),wn(Math.round(e).toString(16)),wn(Math.round(t).toString(16)),wn(Math.round(n).toString(16))].join("")}function tn(e,t){t=0===t?0:t||10;var n=Xt(e).toHsl();return n.s-=t/100,n.s=yn(n.s),Xt(n)}function nn(e,t){t=0===t?0:t||10;var n=Xt(e).toHsl();return n.s+=t/100,n.s=yn(n.s),Xt(n)}function rn(e){return Xt(e).desaturate(100)}function on(e,t){t=0===t?0:t||10;var n=Xt(e).toHsl();return n.l+=t/100,n.l=yn(n.l),Xt(n)}function an(e,t){t=0===t?0:t||10;var n=Xt(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),Xt(n)}function sn(e,t){t=0===t?0:t||10;var n=Xt(e).toHsl();return n.l-=t/100,n.l=yn(n.l),Xt(n)}function un(e,t){var n=Xt(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,Xt(n)}function cn(e){var t=Xt(e).toHsl();return t.h=(t.h+180)%360,Xt(t)}function ln(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Xt(e).toHsl(),r=[Xt(e)],o=360/t,i=1;i<t;i++)r.push(Xt({h:(n.h+i*o)%360,s:n.s,l:n.l}));return r}function dn(e){var t=Xt(e).toHsl(),n=t.h;return[Xt(e),Xt({h:(n+72)%360,s:t.s,l:t.l}),Xt({h:(n+216)%360,s:t.s,l:t.l})]}function hn(e,t,n){t=t||6,n=n||30;var r=Xt(e).toHsl(),o=360/n,i=[Xt(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(Xt(r));return i}function fn(e,t){t=t||6;for(var n=Xt(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/t;t--;)a.push(Xt({h:r,s:o,v:i})),i=(i+s)%1;return a}Xt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=vn(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Qt(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Qt(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=Kt(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Kt(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return Jt(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,o){var i=[wn(Math.round(e).toString(16)),wn(Math.round(t).toString(16)),wn(Math.round(n).toString(16)),wn(kn(r))];if(o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*mn(this._r,255))+"%",g:Math.round(100*mn(this._g,255))+"%",b:Math.round(100*mn(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*mn(this._r,255))+"%, "+Math.round(100*mn(this._g,255))+"%, "+Math.round(100*mn(this._b,255))+"%)":"rgba("+Math.round(100*mn(this._r,255))+"%, "+Math.round(100*mn(this._g,255))+"%, "+Math.round(100*mn(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(gn[Jt(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+en(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=Xt(e);n="#"+en(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return Xt(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(on,arguments)},brighten:function(){return this._applyModification(an,arguments)},darken:function(){return this._applyModification(sn,arguments)},desaturate:function(){return this._applyModification(tn,arguments)},saturate:function(){return this._applyModification(nn,arguments)},greyscale:function(){return this._applyModification(rn,arguments)},spin:function(){return this._applyModification(un,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(hn,arguments)},complement:function(){return this._applyCombination(cn,arguments)},monochromatic:function(){return this._applyCombination(fn,arguments)},splitcomplement:function(){return this._applyCombination(dn,arguments)},triad:function(){return this._applyCombination(ln,[3])},tetrad:function(){return this._applyCombination(ln,[4])}},Xt.fromRatio=function(e,t){if("object"==Yt(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:_n(e[r]));e=n}return Xt(e,t)},Xt.equals=function(e,t){return!(!e||!t)&&Xt(e).toRgbString()==Xt(t).toRgbString()},Xt.random=function(){return Xt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},Xt.mix=function(e,t,n){n=0===n?0:n||50;var r=Xt(e).toRgb(),o=Xt(t).toRgb(),i=n/100;return Xt({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},Xt.readability=function(e,t){var n=Xt(e),r=Xt(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},Xt.isReadable=function(e,t,n){var r,o,i=Xt.readability(e,t);switch(o=!1,r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n),r.level+r.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},Xt.mostReadable=function(e,t,n){var r,o,i,a,s=null,u=0;o=(n=n||{}).includeFallbackColors,i=n.level,a=n.size;for(var c=0;c<t.length;c++)(r=Xt.readability(e,t[c]))>u&&(u=r,s=Xt(t[c]));return Xt.isReadable(e,s,{level:i,size:a})||!o?s:(n.includeFallbackColors=!1,Xt.mostReadable(e,["#fff","#000"],n))};var pn=Xt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},gn=Xt.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(pn);function vn(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function mn(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function yn(e){return Math.min(1,Math.max(0,e))}function bn(e){return parseInt(e,16)}function wn(e){return 1==e.length?"0"+e:""+e}function _n(e){return e<=1&&(e=100*e+"%"),e}function kn(e){return Math.round(255*parseFloat(e)).toString(16)}function xn(e){return bn(e)/255}var jn,Pn,On,Sn=(Pn="[\\s|\\(]+("+(jn="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+jn+")[,|\\s]+("+jn+")\\s*\\)?",On="[\\s|\\(]+("+jn+")[,|\\s]+("+jn+")[,|\\s]+("+jn+")[,|\\s]+("+jn+")\\s*\\)?",{CSS_UNIT:new RegExp(jn),rgb:new RegExp("rgb"+Pn),rgba:new RegExp("rgba"+On),hsl:new RegExp("hsl"+Pn),hsla:new RegExp("hsla"+On),hsv:new RegExp("hsv"+Pn),hsva:new RegExp("hsva"+On),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Tn(e){return!!Sn.CSS_UNIT.exec(e)}function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){In(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mn(e){return Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mn(e)}function An(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hn(r.key),r)}}function In(e,t,n){return(t=Hn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dn(e){return Dn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dn(e)}function Rn(e,t){return Rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rn(e,t)}function Ln(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function zn(e,t,n){return zn=Ln()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Rn(o,n.prototype),o},zn.apply(null,arguments)}function Nn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bn(e){var t=Ln();return function(){var n,r=Dn(e);if(t){var o=Dn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fn(e)}(this,n)}}function qn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,o=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Wn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Un(e){return function(e){if(Array.isArray(e))return $n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Wn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wn(e,t){if(e){if("string"==typeof e)return $n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$n(e,t):void 0}}function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hn(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var Vn=function e(t){t instanceof Array?t.forEach(e):(t.map&&t.map.dispose(),t.dispose())},Yn=function e(t){t.geometry&&t.geometry.dispose(),t.material&&Vn(t.material),t.texture&&t.texture.dispose(),t.children&&t.children.forEach(e)},Gn=function(e){for(;e.children.length;){var t=e.children[0];e.remove(t),Yn(t)}},Zn=["objFilter"];function Xn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.objFilter,o=void 0===r?function(){return!0}:r,i=Nn(n,Zn);return Nt(e,t.children.filter(o),(function(e){return t.add(e)}),(function(e){t.remove(e),Gn(e)}),Cn({objBindAttr:"__threeObj"},i))}var Kn=function(e){return isNaN(e)?parseInt(Xt(e).toHex(),16):e},Qn=function(e){return isNaN(e)?Xt(e).getAlpha():1},Jn=function e(){var t=new Ft,n=[],r=[],o=Ht;function i(e){let i=t.get(e);if(void 0===i){if(o!==Ht)return o;t.set(e,i=n.push(e)-1)}return r[i%r.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new Ft;for(const r of e)t.has(r)||t.set(r,n.push(r)-1);return i},i.range=function(e){return arguments.length?(r=Array.from(e),i):r.slice()},i.unknown=function(e){return arguments.length?(o=e,i):o},i.copy=function(){return e(n,r).unknown(o)},$t.apply(i,arguments),i}(Vt);function er(e,t,n){t&&"string"==typeof n&&e.filter((function(e){return!e[n]})).forEach((function(e){e[n]=Jn(t(e))}))}var tr=window.THREE?window.THREE:{Group:m.YJl,Mesh:m.eaF,MeshLambertMaterial:m.G_z,Color:m.Q1f,BufferGeometry:m.LoY,BufferAttribute:m.THS,Matrix4:m.kn4,Vector3:m.Pq0,SphereGeometry:m.Gu$,CylinderGeometry:m.Ho_,TubeGeometry:m.j6,ConeGeometry:m.qFE,Line:m.N1A,LineBasicMaterial:m.mrM,QuadraticBezierCurve3:m.CV9,CubicBezierCurve3:m.s0K,Box3:m.NRn},nr={graph:Le,forcelayout:ze},rr=(new tr.BufferGeometry).setAttribute?"setAttribute":"addAttribute",or=(new tr.BufferGeometry).applyMatrix4?"applyMatrix4":"applyMatrix",ir=yt({props:{jsonUrl:{onChange:function(e,t){var n=this;e&&!t.fetchingJson&&(t.fetchingJson=!0,t.onLoading(),fetch(e).then((function(e){return e.json()})).then((function(e){t.fetchingJson=!1,t.onFinishLoading(e),n.graphData(e)})))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,t){t.engineRunning=!1}},numDimensions:{default:3,onChange:function(e,t){var n=t.d3ForceLayout.force("charge");function r(e,t){e.forEach((function(e){delete e[t],delete e["v".concat(t)]}))}n&&n.strength(e>2?-60:-30),e<3&&r(t.graphData.nodes,"z"),e<2&&r(t.graphData.nodes,"y")}},dagMode:{onChange:function(e,t){!e&&"d3"===t.forceEngine&&(t.graphData.nodes||[]).forEach((function(e){return e.fx=e.fy=e.fz=void 0}))}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeVisibility:{default:!0},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},nodePositionUpdate:{triggerUpdate:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{},linkResolution:{default:6},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{triggerUpdate:!1},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.velocityDecay(e)}},ngraphPhysics:{default:{timeStep:20,gravity:-1.2,theta:.8,springLength:30,springCoefficient:8e-4,dragCoefficient:.02}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1}},methods:{refresh:function(e){return e._flushObjects=!0,e._rerender(),this},d3Force:function(e,t,n){return void 0===n?e.d3ForceLayout.force(t):(e.d3ForceLayout.force(t,n),this)},d3ReheatSimulation:function(e){return e.d3ForceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},tickFrame:function(e){var t,n,r,o,i="ngraph"!==e.forceEngine;return e.engineRunning&&function(){++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||i&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.layout[i?"tick":"step"](),e.onEngineTick());var t=bt(e.nodeThreeObjectExtend);e.graphData.nodes.forEach((function(n){var r=n.__threeObj;if(r){var o=i?n:e.layout.getNodePosition(n[e.nodeId]),a=t(n);e.nodePositionUpdate&&e.nodePositionUpdate(a?r.children[0]:r,{x:o.x,y:o.y,z:o.z},n)&&!a||(r.position.x=o.x,r.position.y=o.y||0,r.position.z=o.z||0)}}));var n=bt(e.linkWidth),r=bt(e.linkCurvature),o=bt(e.linkCurveRotation),a=bt(e.linkThreeObjectExtend);function s(t){var n=i?t:e.layout.getLinkPosition(e.layout.graph.getLink(t.source,t.target).id),a=n[i?"source":"from"],s=n[i?"target":"to"];if(a&&s&&a.hasOwnProperty("x")&&s.hasOwnProperty("x")){var u=r(t);if(u){var c,l=new tr.Vector3(a.x,a.y||0,a.z||0),d=new tr.Vector3(s.x,s.y||0,s.z||0),h=l.distanceTo(d),f=o(t);if(h>0){var p=s.x-a.x,g=s.y-a.y||0,v=(new tr.Vector3).subVectors(d,l),m=v.clone().multiplyScalar(u).cross(0!==p||0!==g?new tr.Vector3(0,0,1):new tr.Vector3(0,1,0)).applyAxisAngle(v.normalize(),f).add((new tr.Vector3).addVectors(l,d).divideScalar(2));c=new tr.QuadraticBezierCurve3(l,m,d)}else{var y=70*u,b=-f,w=b+Math.PI/2;c=new tr.CubicBezierCurve3(l,new tr.Vector3(y*Math.cos(w),y*Math.sin(w),0).add(l),new tr.Vector3(y*Math.cos(b),y*Math.sin(b),0).add(l),d)}t.__curve=c}else t.__curve=null}}e.graphData.links.forEach((function(t){var r=t.__lineObj;if(r){var o=i?t:e.layout.getLinkPosition(e.layout.graph.getLink(t.source,t.target).id),u=o[i?"source":"from"],c=o[i?"target":"to"];if(u&&c&&u.hasOwnProperty("x")&&c.hasOwnProperty("x")){s(t);var l=a(t);if(!e.linkPositionUpdate||!e.linkPositionUpdate(l?r.children[1]:r,{start:{x:u.x,y:u.y,z:u.z},end:{x:c.x,y:c.y,z:c.z}},t)||l){var d=30,h=t.__curve,f=r.children.length?r.children[0]:r;if("Line"===f.type){if(h)f.geometry.setFromPoints(h.getPoints(d));else{var p=f.geometry.getAttribute("position");p&&p.array&&6===p.array.length||f.geometry[rr]("position",p=new tr.BufferAttribute(new Float32Array(6),3)),p.array[0]=u.x,p.array[1]=u.y||0,p.array[2]=u.z||0,p.array[3]=c.x,p.array[4]=c.y||0,p.array[5]=c.z||0,p.needsUpdate=!0}f.geometry.computeBoundingSphere()}else if("Mesh"===f.type)if(h){f.geometry.type.match(/^Tube(Buffer)?Geometry$/)||(f.position.set(0,0,0),f.rotation.set(0,0,0),f.scale.set(1,1,1));var g=Math.ceil(10*n(t))/10/2,v=new tr.TubeGeometry(h,d,g,e.linkResolution,!1);f.geometry.dispose(),f.geometry=v}else{if(!f.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)){var m=Math.ceil(10*n(t))/10/2,y=new tr.CylinderGeometry(m,m,1,e.linkResolution,1,!1);y[or]((new tr.Matrix4).makeTranslation(0,.5,0)),y[or]((new tr.Matrix4).makeRotationX(Math.PI/2)),f.geometry.dispose(),f.geometry=y}var b=new tr.Vector3(u.x,u.y||0,u.z||0),w=new tr.Vector3(c.x,c.y||0,c.z||0),_=b.distanceTo(w);f.position.x=b.x,f.position.y=b.y,f.position.z=b.z,f.scale.z=_,f.parent.localToWorld(w),f.lookAt(w)}}}}}))}(),t=bt(e.linkDirectionalArrowRelPos),n=bt(e.linkDirectionalArrowLength),r=bt(e.nodeVal),e.graphData.links.forEach((function(o){var a=o.__arrowObj;if(a){var s=i?o:e.layout.getLinkPosition(e.layout.graph.getLink(o.source,o.target).id),u=s[i?"source":"from"],c=s[i?"target":"to"];if(u&&c&&u.hasOwnProperty("x")&&c.hasOwnProperty("x")){var l=Math.cbrt(Math.max(0,r(u)||1))*e.nodeRelSize,d=Math.cbrt(Math.max(0,r(c)||1))*e.nodeRelSize,h=n(o),f=t(o),p=o.__curve?function(e){return o.__curve.getPoint(e)}:function(e){var t=function(e,t,n,r){return t[e]+(n[e]-t[e])*r||0};return{x:t("x",u,c,e),y:t("y",u,c,e),z:t("z",u,c,e)}},g=o.__curve?o.__curve.getLength():Math.sqrt(["x","y","z"].map((function(e){return Math.pow((c[e]||0)-(u[e]||0),2)})).reduce((function(e,t){return e+t}),0)),v=l+h+(g-l-d-h)*f,m=p(v/g),y=p((v-h)/g);["x","y","z"].forEach((function(e){return a.position[e]=y[e]}));var b=zn(tr.Vector3,Un(["x","y","z"].map((function(e){return m[e]}))));a.parent.localToWorld(b),a.lookAt(b)}}})),o=bt(e.linkDirectionalParticleSpeed),e.graphData.links.forEach((function(t){var n=t.__photonsObj&&t.__photonsObj.children,r=t.__singleHopPhotonsObj&&t.__singleHopPhotonsObj.children;if(r&&r.length||n&&n.length){var a=i?t:e.layout.getLinkPosition(e.layout.graph.getLink(t.source,t.target).id),s=a[i?"source":"from"],u=a[i?"target":"to"];if(s&&u&&s.hasOwnProperty("x")&&u.hasOwnProperty("x")){var c=o(t),l=t.__curve?function(e){return t.__curve.getPoint(e)}:function(e){var t=function(e,t,n,r){return t[e]+(n[e]-t[e])*r||0};return{x:t("x",s,u,e),y:t("y",s,u,e),z:t("z",s,u,e)}};[].concat(Un(n||[]),Un(r||[])).forEach((function(e,t){var r="singleHopPhotons"===e.parent.__linkThreeObjType;if(e.hasOwnProperty("__progressRatio")||(e.__progressRatio=r?0:t/n.length),e.__progressRatio+=c,e.__progressRatio>=1){if(r)return e.parent.remove(e),void Gn(e);e.__progressRatio=e.__progressRatio%1}var o=e.__progressRatio,i=l(o);["x","y","z"].forEach((function(t){return e.position[t]=i[t]}))}))}}})),this},emitParticle:function(e,t){if(t&&e.graphData.links.includes(t)){if(!t.__singleHopPhotonsObj){var n=new tr.Group;n.__linkThreeObjType="singleHopPhotons",t.__singleHopPhotonsObj=n,e.graphScene.add(n)}var r=bt(e.linkDirectionalParticleWidth),o=Math.ceil(10*r(t))/10/2,i=e.linkDirectionalParticleResolution,a=new tr.SphereGeometry(o,i,i),s=bt(e.linkColor),u=bt(e.linkDirectionalParticleColor)(t)||s(t)||"#f0f0f0",c=new tr.Color(Kn(u)),l=3*e.linkOpacity,d=new tr.MeshLambertMaterial({color:c,transparent:!0,opacity:l});t.__singleHopPhotonsObj.add(new tr.Mesh(a,d))}return this},getGraphBbox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(!e.initialised)return null;var n=function e(n){var r=[];if(n.geometry){n.geometry.computeBoundingBox();var o=new tr.Box3;o.copy(n.geometry.boundingBox).applyMatrix4(n.matrixWorld),r.push(o)}return r.concat.apply(r,Un((n.children||[]).filter((function(e){return!e.hasOwnProperty("__graphObjType")||"node"===e.__graphObjType&&t(e.__data)})).map(e)))}(e.graphScene);return n.length?Object.assign.apply(Object,Un(["x","y","z"].map((function(e){return In({},e,[wt(n,(function(t){return t.min[e]})),_t(n,(function(t){return t.max[e]}))])})))):null}},stateInit:function(){return{d3ForceLayout:oe().force("link",ce()).force("charge",De()).force("center",Re()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,t){t.graphScene=e},update:function(e,t){var n=function(e){return e.some((function(e){return t.hasOwnProperty(e)}))};if(e.engineRunning=!1,e.onUpdate(),null!==e.nodeAutoColorBy&&n(["nodeAutoColorBy","graphData","nodeColor"])&&er(e.graphData.nodes,bt(e.nodeAutoColorBy),e.nodeColor),null!==e.linkAutoColorBy&&n(["linkAutoColorBy","graphData","linkColor"])&&er(e.graphData.links,bt(e.linkAutoColorBy),e.linkColor),e._flushObjects||n(["graphData","nodeThreeObject","nodeThreeObjectExtend","nodeVal","nodeColor","nodeVisibility","nodeRelSize","nodeResolution","nodeOpacity"])){var r=bt(e.nodeThreeObject),o=bt(e.nodeThreeObjectExtend),i=bt(e.nodeVal),a=bt(e.nodeColor),s=bt(e.nodeVisibility),u={},c={};Xn(e.graphData.nodes.filter(s),e.graphScene,{purge:e._flushObjects||n(["nodeThreeObject","nodeThreeObjectExtend"]),objFilter:function(e){return"node"===e.__graphObjType},createObj:function(t){var n,i=r(t),a=o(t);return i&&e.nodeThreeObject===i&&(i=i.clone()),i&&!a?n=i:((n=new tr.Mesh).__graphDefaultObj=!0,i&&a&&n.add(i)),n.__graphObjType="node",n},updateObj:function(t,n){if(t.__graphDefaultObj){var r=i(n)||1,o=Math.cbrt(r)*e.nodeRelSize,s=e.nodeResolution;t.geometry.type.match(/^Sphere(Buffer)?Geometry$/)&&t.geometry.parameters.radius===o&&t.geometry.parameters.widthSegments===s||(u.hasOwnProperty(r)||(u[r]=new tr.SphereGeometry(o,s,s)),t.geometry.dispose(),t.geometry=u[r]);var l=a(n),d=new tr.Color(Kn(l||"#ffffaa")),h=e.nodeOpacity*Qn(l);"MeshLambertMaterial"===t.material.type&&t.material.color.equals(d)&&t.material.opacity===h||(c.hasOwnProperty(l)||(c[l]=new tr.MeshLambertMaterial({color:d,transparent:!0,opacity:h})),t.material.dispose(),t.material=c[l])}}})}if(e._flushObjects||n(["graphData","linkThreeObject","linkThreeObjectExtend","linkMaterial","linkColor","linkWidth","linkVisibility","linkResolution","linkOpacity","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution"])){var l=bt(e.linkThreeObject),d=bt(e.linkThreeObjectExtend),h=bt(e.linkMaterial),f=bt(e.linkVisibility),p=bt(e.linkColor),g=bt(e.linkWidth),v={},m={},y={},b=e.graphData.links.filter(f);if(Xn(b,e.graphScene,{objBindAttr:"__lineObj",purge:e._flushObjects||n(["linkThreeObject","linkThreeObjectExtend","linkWidth"]),objFilter:function(e){return"link"===e.__graphObjType},exitObj:function(e){var t=e.__data&&e.__data.__singleHopPhotonsObj;t&&(t.parent.remove(t),Gn(t),delete e.__data.__singleHopPhotonsObj)},createObj:function(t){var n,r,o=l(t),i=d(t);if(o&&e.linkThreeObject===o&&(o=o.clone()),!o||i)if(!!g(t))n=new tr.Mesh;else{var a=new tr.BufferGeometry;a[rr]("position",new tr.BufferAttribute(new Float32Array(6),3)),n=new tr.Line(a)}return o?i?((r=new tr.Group).__graphDefaultObj=!0,r.add(n),r.add(o)):r=o:(r=n).__graphDefaultObj=!0,r.renderOrder=10,r.__graphObjType="link",r},updateObj:function(t,n){if(t.__graphDefaultObj){var r=t.children.length?t.children[0]:t,o=Math.ceil(10*g(n))/10,i=!!o;if(i){var a=o/2,s=e.linkResolution;if(!r.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)||r.geometry.parameters.radiusTop!==a||r.geometry.parameters.radialSegments!==s){if(!v.hasOwnProperty(o)){var u=new tr.CylinderGeometry(a,a,1,s,1,!1);u[or]((new tr.Matrix4).makeTranslation(0,.5,0)),u[or]((new tr.Matrix4).makeRotationX(Math.PI/2)),v[o]=u}r.geometry.dispose(),r.geometry=v[o]}}var c=h(n);if(c)r.material=c;else{var l=p(n),d=new tr.Color(Kn(l||"#f0f0f0")),f=e.linkOpacity*Qn(l),b=i?"MeshLambertMaterial":"LineBasicMaterial";if(r.material.type!==b||!r.material.color.equals(d)||r.material.opacity!==f){var w=i?m:y;w.hasOwnProperty(l)||(w[l]=new tr[b]({color:d,transparent:f<1,opacity:f,depthWrite:f>=1})),r.material.dispose(),r.material=w[l]}}}}}),e.linkDirectionalArrowLength||t.hasOwnProperty("linkDirectionalArrowLength")){var w=bt(e.linkDirectionalArrowLength),_=bt(e.linkDirectionalArrowColor);Xn(b.filter(w),e.graphScene,{objBindAttr:"__arrowObj",objFilter:function(e){return"arrow"===e.__linkThreeObjType},createObj:function(){var e=new tr.Mesh(void 0,new tr.MeshLambertMaterial({transparent:!0}));return e.__linkThreeObjType="arrow",e},updateObj:function(t,n){var r=w(n),o=e.linkDirectionalArrowResolution;if(!t.geometry.type.match(/^Cone(Buffer)?Geometry$/)||t.geometry.parameters.height!==r||t.geometry.parameters.radialSegments!==o){var i=new tr.ConeGeometry(.25*r,r,o);i.translate(0,r/2,0),i.rotateX(Math.PI/2),t.geometry.dispose(),t.geometry=i}var a=_(n)||p(n)||"#f0f0f0";t.material.color=new tr.Color(Kn(a)),t.material.opacity=3*e.linkOpacity*Qn(a)}})}if(e.linkDirectionalParticles||t.hasOwnProperty("linkDirectionalParticles")){var k=bt(e.linkDirectionalParticles),x=bt(e.linkDirectionalParticleWidth),j=bt(e.linkDirectionalParticleColor),P={},O={};Xn(b.filter(k),e.graphScene,{objBindAttr:"__photonsObj",objFilter:function(e){return"photons"===e.__linkThreeObjType},createObj:function(){var e=new tr.Group;return e.__linkThreeObjType="photons",e},updateObj:function(t,n){var r,o=Math.round(Math.abs(k(n))),i=!!t.children.length&&t.children[0],a=Math.ceil(10*x(n))/10/2,s=e.linkDirectionalParticleResolution;i&&i.geometry.parameters.radius===a&&i.geometry.parameters.widthSegments===s?r=i.geometry:(O.hasOwnProperty(a)||(O[a]=new tr.SphereGeometry(a,s,s)),r=O[a],i&&i.geometry.dispose());var u,c=j(n)||p(n)||"#f0f0f0",l=new tr.Color(Kn(c)),d=3*e.linkOpacity;i&&i.material.color.equals(l)&&i.material.opacity===d?u=i.material:(P.hasOwnProperty(c)||(P[c]=new tr.MeshLambertMaterial({color:l,transparent:!0,opacity:d})),u=P[c],i&&i.material.dispose()),Xn(Un(new Array(o)).map((function(e,t){return{idx:t}})),t,{idAccessor:function(e){return e.idx},createObj:function(){return new tr.Mesh(r,u)},updateObj:function(e){e.geometry=r,e.material=u}})}})}}if(e._flushObjects=!1,n(["graphData","nodeId","linkSource","linkTarget","numDimensions","forceEngine","dagMode","dagNodeFilter","dagLevelDistance"])){e.engineRunning=!1,e.graphData.links.forEach((function(t){t.source=t[e.linkSource],t.target=t[e.linkTarget]}));var S,T="ngraph"!==e.forceEngine;if(T){(S=e.d3ForceLayout).stop().alpha(1).numDimensions(e.numDimensions).nodes(e.graphData.nodes);var E=e.d3ForceLayout.force("link");E&&E.id((function(t){return t[e.nodeId]})).links(e.graphData.links);var C=e.dagMode&&function(e,t){var n=e.nodes,r=e.links,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.nodeFilter,a=void 0===i?function(){return!0}:i,s=o.onLoopError,u=void 0===s?function(e){throw"Invalid DAG structure! Found cycle in node path: ".concat(e.join(" -> "),".")}:s,c={};n.forEach((function(e){return c[t(e)]={data:e,out:[],depth:-1,skip:!a(e)}})),r.forEach((function(e){var n=e.source,r=e.target,o=u(n),i=u(r);if(!c.hasOwnProperty(o))throw"Missing source node with id: ".concat(o);if(!c.hasOwnProperty(i))throw"Missing target node with id: ".concat(i);var a=c[o],s=c[i];function u(e){return"object"===Mn(e)?t(e):e}a.out.push(s)}));var l=[];return function e(n){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=function(){var i=n[a];if(-1!==r.indexOf(i)){var s=[].concat(Un(r.slice(r.indexOf(i))),[i]).map((function(e){return t(e.data)}));return l.some((function(e){return e.length===s.length&&e.every((function(e,t){return e===s[t]}))}))||(l.push(s),u(s)),"continue"}o>i.depth&&(i.depth=o,e(i.out,[].concat(Un(r),[i]),o+(i.skip?0:1)))},a=0,s=n.length;a<s;a++)i()}(Object.values(c)),Object.assign.apply(Object,[{}].concat(Un(Object.entries(c).filter((function(e){return!qn(e,2)[1].skip})).map((function(e){var t=qn(e,2);return In({},t[0],t[1].depth)})))))}(e.graphData,(function(t){return t[e.nodeId]}),{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),M=Math.max.apply(Math,Un(Object.values(C||[]))),A=e.dagLevelDistance||e.graphData.nodes.length/(M||1)*2*(-1!==["radialin","radialout"].indexOf(e.dagMode)?.7:1);if(e.dagMode){var I=function(t,n){return function(r){return t?(C[r[e.nodeId]]-M/2)*A*(n?-1:1):void 0}},D=I(-1!==["lr","rl"].indexOf(e.dagMode),"rl"===e.dagMode),R=I(-1!==["td","bu"].indexOf(e.dagMode),"td"===e.dagMode),L=I(-1!==["zin","zout"].indexOf(e.dagMode),"zout"===e.dagMode);e.graphData.nodes.filter(e.dagNodeFilter).forEach((function(e){e.fx=D(e),e.fy=R(e),e.fz=L(e)}))}e.d3ForceLayout.force("dagRadial",-1!==["radialin","radialout"].indexOf(e.dagMode)?function(e,t,n,r){var o,i,a,s,u=ie(.1);function c(e){for(var u=0,c=o.length;u<c;++u){var l=o[u],d=l.x-t||1e-6,h=(l.y||0)-n||1e-6,f=(l.z||0)-r||1e-6,p=Math.sqrt(d*d+h*h+f*f),g=(s[u]-p)*a[u]*e/p;l.vx+=d*g,i>1&&(l.vy+=h*g),i>2&&(l.vz+=f*g)}}function l(){if(o){var t,n=o.length;for(a=new Array(n),s=new Array(n),t=0;t<n;++t)s[t]=+e(o[t],t,o),a[t]=isNaN(s[t])?0:+u(o[t],t,o)}}return"function"!=typeof e&&(e=ie(+e)),null==t&&(t=0),null==n&&(n=0),null==r&&(r=0),c.initialize=function(e,...t){o=e,i=t.find((e=>[1,2,3].includes(e)))||2,l()},c.strength=function(e){return arguments.length?(u="function"==typeof e?e:ie(+e),l(),c):u},c.radius=function(t){return arguments.length?(e="function"==typeof t?t:ie(+t),l(),c):e},c.x=function(e){return arguments.length?(t=+e,c):t},c.y=function(e){return arguments.length?(n=+e,c):n},c.z=function(e){return arguments.length?(r=+e,c):r},c}((function(t){var n=C[t[e.nodeId]]||-1;return("radialin"===e.dagMode?M-n:n)*A})).strength((function(t){return e.dagNodeFilter(t)?1:0})):null)}else{var z=nr.graph();e.graphData.nodes.forEach((function(t){z.addNode(t[e.nodeId])})),e.graphData.links.forEach((function(e){z.addLink(e.source,e.target)})),(S=nr.forcelayout(z,Cn({dimensions:e.numDimensions},e.ngraphPhysics))).graph=z}for(var N=0;N<e.warmupTicks&&!(T&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin);N++)S[T?"tick":"step"]();e.layout=S,this.resetCountdown()}e.engineRunning=!0,e.onFinishUpdate()}});var ar=function(e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rn(e,t)}(s,n);var r,o,i,a=Bn(s);function s(){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=a.call.apply(a,[this].concat(o))).__kapsuleInstance=e().apply(void 0,[].concat(Un(t?[Fn(n)]:[]),o)),n}return r=s,o&&An(r.prototype,o),i&&An(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object);return Object.keys(e()).forEach((function(e){return n.prototype[e]=function(){var t,n=(t=this.__kapsuleInstance)[e].apply(t,arguments);return n===this.__kapsuleInstance?this:n}})),n}(ir,(window.THREE?window.THREE:{Group:m.YJl}).Group,!0);const sr={type:"change"},ur={type:"start"},cr={type:"end"};class lr extends m.Qev{constructor(e,t){super();const n=this,r=-1,o=0,i=1,a=2,s=3,u=4;this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:m.kBv.ROTATE,MIDDLE:m.kBv.DOLLY,RIGHT:m.kBv.PAN},this.target=new m.Pq0;const c=1e-6,l=new m.Pq0;let d=1,h=r,f=r,p=0,g=0,v=0;const y=new m.Pq0,b=new m.I9Y,w=new m.I9Y,_=new m.Pq0,k=new m.I9Y,x=new m.I9Y,j=new m.I9Y,P=new m.I9Y,O=[],S={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){const e=n.domElement.getBoundingClientRect(),t=n.domElement.ownerDocument.documentElement;n.screen.left=e.left+window.pageXOffset-t.clientLeft,n.screen.top=e.top+window.pageYOffset-t.clientTop,n.screen.width=e.width,n.screen.height=e.height};const T=function(){const e=new m.I9Y;return function(t,r){return e.set((t-n.screen.left)/n.screen.width,(r-n.screen.top)/n.screen.height),e}}(),E=function(){const e=new m.I9Y;return function(t,r){return e.set((t-.5*n.screen.width-n.screen.left)/(.5*n.screen.width),(n.screen.height+2*(n.screen.top-r))/n.screen.width),e}}();function C(e){!1!==n.enabled&&(0===O.length&&(n.domElement.setPointerCapture(e.pointerId),n.domElement.addEventListener("pointermove",M),n.domElement.addEventListener("pointerup",A)),function(e){O.push(e)}(e),"touch"===e.pointerType?function(e){if(1===(F(e),O.length))h=s,w.copy(E(O[0].pageX,O[0].pageY)),b.copy(w);else{h=u;const e=O[0].pageX-O[1].pageX,t=O[0].pageY-O[1].pageY;g=p=Math.sqrt(e*e+t*t);const n=(O[0].pageX+O[1].pageX)/2,r=(O[0].pageY+O[1].pageY)/2;j.copy(T(n,r)),P.copy(j)}n.dispatchEvent(ur)}(e):function(e){if(h===r)switch(e.button){case n.mouseButtons.LEFT:h=o;break;case n.mouseButtons.MIDDLE:h=i;break;case n.mouseButtons.RIGHT:h=a}const t=f!==r?f:h;t!==o||n.noRotate?t!==i||n.noZoom?t!==a||n.noPan||(j.copy(T(e.pageX,e.pageY)),P.copy(j)):(k.copy(T(e.pageX,e.pageY)),x.copy(k)):(w.copy(E(e.pageX,e.pageY)),b.copy(w));n.dispatchEvent(ur)}(e))}function M(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){if(1===(F(e),O.length))b.copy(w),w.copy(E(e.pageX,e.pageY));else{const t=function(e){const t=e.pointerId===O[0].pointerId?O[1]:O[0];return S[t.pointerId]}(e),n=e.pageX-t.x,r=e.pageY-t.y;g=Math.sqrt(n*n+r*r);const o=(e.pageX+t.x)/2,i=(e.pageY+t.y)/2;P.copy(T(o,i))}}(e):function(e){const t=f!==r?f:h;t!==o||n.noRotate?t!==i||n.noZoom?t!==a||n.noPan||P.copy(T(e.pageX,e.pageY)):x.copy(T(e.pageX,e.pageY)):(b.copy(w),w.copy(E(e.pageX,e.pageY)))}(e))}function A(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(O.length){case 0:h=r;break;case 1:h=s,w.copy(E(e.pageX,e.pageY)),b.copy(w);break;case 2:h=u;for(let t=0;t<O.length;t++)if(O[t].pointerId!==e.pointerId){const e=S[O[t].pointerId];w.copy(E(e.x,e.y)),b.copy(w);break}}n.dispatchEvent(cr)}(e):(h=r,n.dispatchEvent(cr)),N(e),0===O.length&&(n.domElement.releasePointerCapture(e.pointerId),n.domElement.removeEventListener("pointermove",M),n.domElement.removeEventListener("pointerup",A)))}function I(e){N(e)}function D(e){!1!==n.enabled&&(window.removeEventListener("keydown",D),f===r&&(e.code!==n.keys[o]||n.noRotate?e.code!==n.keys[i]||n.noZoom?e.code!==n.keys[a]||n.noPan||(f=a):f=i:f=o))}function R(){!1!==n.enabled&&(f=r,window.addEventListener("keydown",D))}function L(e){if(!1!==n.enabled&&!0!==n.noZoom){switch(e.preventDefault(),e.deltaMode){case 2:k.y-=.025*e.deltaY;break;case 1:k.y-=.01*e.deltaY;break;default:k.y-=25e-5*e.deltaY}n.dispatchEvent(ur),n.dispatchEvent(cr)}}function z(e){!1!==n.enabled&&e.preventDefault()}function N(e){delete S[e.pointerId];for(let t=0;t<O.length;t++)if(O[t].pointerId==e.pointerId)return void O.splice(t,1)}function F(e){let t=S[e.pointerId];void 0===t&&(t=new m.I9Y,S[e.pointerId]=t),t.set(e.pageX,e.pageY)}this.rotateCamera=function(){const e=new m.Pq0,t=new m.PTz,r=new m.Pq0,o=new m.Pq0,i=new m.Pq0,a=new m.Pq0;return function(){a.set(w.x-b.x,w.y-b.y,0);let s=a.length();s?(y.copy(n.object.position).sub(n.target),r.copy(y).normalize(),o.copy(n.object.up).normalize(),i.crossVectors(o,r).normalize(),o.setLength(w.y-b.y),i.setLength(w.x-b.x),a.copy(o.add(i)),e.crossVectors(a,y).normalize(),s*=n.rotateSpeed,t.setFromAxisAngle(e,s),y.applyQuaternion(t),n.object.up.applyQuaternion(t),_.copy(e),v=s):!n.staticMoving&&v&&(v*=Math.sqrt(1-n.dynamicDampingFactor),y.copy(n.object.position).sub(n.target),t.setFromAxisAngle(_,v),y.applyQuaternion(t),n.object.up.applyQuaternion(t)),b.copy(w)}}(),this.zoomCamera=function(){let e;h===u?(e=p/g,p=g,n.object.isPerspectiveCamera?y.multiplyScalar(e):n.object.isOrthographicCamera?(n.object.zoom=m.cj9.clamp(n.object.zoom/e,n.minZoom,n.maxZoom),d!==n.object.zoom&&n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(e=1+(x.y-k.y)*n.zoomSpeed,1!==e&&e>0&&(n.object.isPerspectiveCamera?y.multiplyScalar(e):n.object.isOrthographicCamera?(n.object.zoom=m.cj9.clamp(n.object.zoom/e,n.minZoom,n.maxZoom),d!==n.object.zoom&&n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),n.staticMoving?k.copy(x):k.y+=(x.y-k.y)*this.dynamicDampingFactor)},this.panCamera=function(){const e=new m.I9Y,t=new m.Pq0,r=new m.Pq0;return function(){if(e.copy(P).sub(j),e.lengthSq()){if(n.object.isOrthographicCamera){const t=(n.object.right-n.object.left)/n.object.zoom/n.domElement.clientWidth,r=(n.object.top-n.object.bottom)/n.object.zoom/n.domElement.clientWidth;e.x*=t,e.y*=r}e.multiplyScalar(y.length()*n.panSpeed),r.copy(y).cross(n.object.up).setLength(e.x),r.add(t.copy(n.object.up).setLength(e.y)),n.object.position.add(r),n.target.add(r),n.staticMoving?j.copy(P):j.add(e.subVectors(P,j).multiplyScalar(n.dynamicDampingFactor))}}}(),this.checkDistances=function(){n.noZoom&&n.noPan||(y.lengthSq()>n.maxDistance*n.maxDistance&&(n.object.position.addVectors(n.target,y.setLength(n.maxDistance)),k.copy(x)),y.lengthSq()<n.minDistance*n.minDistance&&(n.object.position.addVectors(n.target,y.setLength(n.minDistance)),k.copy(x)))},this.update=function(){y.subVectors(n.object.position,n.target),n.noRotate||n.rotateCamera(),n.noZoom||n.zoomCamera(),n.noPan||n.panCamera(),n.object.position.addVectors(n.target,y),n.object.isPerspectiveCamera?(n.checkDistances(),n.object.lookAt(n.target),l.distanceToSquared(n.object.position)>c&&(n.dispatchEvent(sr),l.copy(n.object.position))):n.object.isOrthographicCamera?(n.object.lookAt(n.target),(l.distanceToSquared(n.object.position)>c||d!==n.object.zoom)&&(n.dispatchEvent(sr),l.copy(n.object.position),d=n.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){h=r,f=r,n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.up.copy(n.up0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),y.subVectors(n.object.position,n.target),n.object.lookAt(n.target),n.dispatchEvent(sr),l.copy(n.object.position),d=n.object.zoom},this.dispose=function(){n.domElement.removeEventListener("contextmenu",z),n.domElement.removeEventListener("pointerdown",C),n.domElement.removeEventListener("pointercancel",I),n.domElement.removeEventListener("wheel",L),n.domElement.removeEventListener("pointermove",M),n.domElement.removeEventListener("pointerup",A),window.removeEventListener("keydown",D),window.removeEventListener("keyup",R)},this.domElement.addEventListener("contextmenu",z),this.domElement.addEventListener("pointerdown",C),this.domElement.addEventListener("pointercancel",I),this.domElement.addEventListener("wheel",L,{passive:!1}),window.addEventListener("keydown",D),window.addEventListener("keyup",R),this.handleResize(),this.update()}}const dr={type:"change"},hr={type:"start"},fr={type:"end"},pr=new m.RlV,gr=new m.Zcv,vr=Math.cos(70*m.cj9.DEG2RAD);class mr extends m.Qev{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new m.Pq0,this.cursor=new m.Pq0,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:m.kBv.ROTATE,MIDDLE:m.kBv.DOLLY,RIGHT:m.kBv.PAN},this.touches={ONE:m.wtR.ROTATE,TWO:m.wtR.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(e){e.addEventListener("keydown",Z),this._domElementKeyEvents=e},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",Z),this._domElementKeyEvents=null},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(dr),n.update(),o=r.NONE},this.update=function(){const t=new m.Pq0,l=(new m.PTz).setFromUnitVectors(e.up,new m.Pq0(0,1,0)),d=l.clone().invert(),h=new m.Pq0,f=new m.PTz,p=new m.Pq0,g=2*Math.PI;return function(v=null){const y=n.object.position;t.copy(y).sub(n.target),t.applyQuaternion(l),a.setFromVector3(t),n.autoRotate&&o===r.NONE&&S(function(e){return null!==e?2*Math.PI/60*n.autoRotateSpeed*e:2*Math.PI/60/60*n.autoRotateSpeed}(v)),n.enableDamping?(a.theta+=s.theta*n.dampingFactor,a.phi+=s.phi*n.dampingFactor):(a.theta+=s.theta,a.phi+=s.phi);let b=n.minAzimuthAngle,x=n.maxAzimuthAngle;isFinite(b)&&isFinite(x)&&(b<-Math.PI?b+=g:b>Math.PI&&(b-=g),x<-Math.PI?x+=g:x>Math.PI&&(x-=g),a.theta=b<=x?Math.max(b,Math.min(x,a.theta)):a.theta>(b+x)/2?Math.max(b,a.theta):Math.min(x,a.theta)),a.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,a.phi)),a.makeSafe(),!0===n.enableDamping?n.target.addScaledVector(c,n.dampingFactor):n.target.add(c),n.target.sub(n.cursor),n.target.clampLength(n.minTargetRadius,n.maxTargetRadius),n.target.add(n.cursor),n.zoomToCursor&&k||n.object.isOrthographicCamera?a.radius=R(a.radius):a.radius=R(a.radius*u),t.setFromSpherical(a),t.applyQuaternion(d),y.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(s.theta*=1-n.dampingFactor,s.phi*=1-n.dampingFactor,c.multiplyScalar(1-n.dampingFactor)):(s.set(0,0,0),c.set(0,0,0));let j=!1;if(n.zoomToCursor&&k){let r=null;if(n.object.isPerspectiveCamera){const e=t.length();r=R(e*u);const o=e-r;n.object.position.addScaledVector(w,o),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const e=new m.Pq0(_.x,_.y,0);e.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/u)),n.object.updateProjectionMatrix(),j=!0;const o=new m.Pq0(_.x,_.y,0);o.unproject(n.object),n.object.position.sub(o).add(e),n.object.updateMatrixWorld(),r=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;null!==r&&(this.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(r).add(n.object.position):(pr.origin.copy(n.object.position),pr.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(pr.direction))<vr?e.lookAt(n.target):(gr.setFromNormalAndCoplanarPoint(n.object.up,n.target),pr.intersectPlane(gr,n.target))))}else n.object.isOrthographicCamera&&(j=1!==u,j&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/u)),n.object.updateProjectionMatrix()));return u=1,k=!1,!!(j||h.distanceToSquared(n.object.position)>i||8*(1-f.dot(n.object.quaternion))>i||p.distanceToSquared(n.target)>0)&&(n.dispatchEvent(dr),h.copy(n.object.position),f.copy(n.object.quaternion),p.copy(n.target),!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",K),n.domElement.removeEventListener("pointerdown",$),n.domElement.removeEventListener("pointercancel",V),n.domElement.removeEventListener("wheel",Y),n.domElement.removeEventListener("pointermove",H),n.domElement.removeEventListener("pointerup",V),null!==n._domElementKeyEvents&&(n._domElementKeyEvents.removeEventListener("keydown",Z),n._domElementKeyEvents=null)};const n=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=r.NONE;const i=1e-6,a=new m.YHV,s=new m.YHV;let u=1;const c=new m.Pq0,l=new m.I9Y,d=new m.I9Y,h=new m.I9Y,f=new m.I9Y,p=new m.I9Y,g=new m.I9Y,v=new m.I9Y,y=new m.I9Y,b=new m.I9Y,w=new m.Pq0,_=new m.I9Y;let k=!1;const x=[],j={};let P=!1;function O(e){const t=Math.abs(.01*e);return Math.pow(.95,n.zoomSpeed*t)}function S(e){s.theta-=e}function T(e){s.phi-=e}const E=function(){const e=new m.Pq0;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),c.add(e)}}(),C=function(){const e=new m.Pq0;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),c.add(e)}}(),M=function(){const e=new m.Pq0;return function(t,r){const o=n.domElement;if(n.object.isPerspectiveCamera){const i=n.object.position;e.copy(i).sub(n.target);let a=e.length();a*=Math.tan(n.object.fov/2*Math.PI/180),E(2*t*a/o.clientHeight,n.object.matrix),C(2*r*a/o.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(E(t*(n.object.right-n.object.left)/n.object.zoom/o.clientWidth,n.object.matrix),C(r*(n.object.top-n.object.bottom)/n.object.zoom/o.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function A(e){n.object.isPerspectiveCamera||n.object.isOrthographicCamera?u/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function I(e){n.object.isPerspectiveCamera||n.object.isOrthographicCamera?u*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function D(e,t){if(!n.zoomToCursor)return;k=!0;const r=n.domElement.getBoundingClientRect(),o=e-r.left,i=t-r.top,a=r.width,s=r.height;_.x=o/a*2-1,_.y=-i/s*2+1,w.set(_.x,_.y,1).unproject(n.object).sub(n.object.position).normalize()}function R(e){return Math.max(n.minDistance,Math.min(n.maxDistance,e))}function L(e){l.set(e.clientX,e.clientY)}function z(e){f.set(e.clientX,e.clientY)}function N(e){if(1===x.length)l.set(e.pageX,e.pageY);else{const t=J(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);l.set(n,r)}}function F(e){if(1===x.length)f.set(e.pageX,e.pageY);else{const t=J(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);f.set(n,r)}}function B(e){const t=J(e),n=e.pageX-t.x,r=e.pageY-t.y,o=Math.sqrt(n*n+r*r);v.set(0,o)}function q(e){if(1==x.length)d.set(e.pageX,e.pageY);else{const t=J(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);d.set(n,r)}h.subVectors(d,l).multiplyScalar(n.rotateSpeed);const t=n.domElement;S(2*Math.PI*h.x/t.clientHeight),T(2*Math.PI*h.y/t.clientHeight),l.copy(d)}function U(e){if(1===x.length)p.set(e.pageX,e.pageY);else{const t=J(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);p.set(n,r)}g.subVectors(p,f).multiplyScalar(n.panSpeed),M(g.x,g.y),f.copy(p)}function W(e){const t=J(e),r=e.pageX-t.x,o=e.pageY-t.y,i=Math.sqrt(r*r+o*o);y.set(0,i),b.set(0,Math.pow(y.y/v.y,n.zoomSpeed)),A(b.y),v.copy(y);D(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}function $(e){!1!==n.enabled&&(0===x.length&&(n.domElement.setPointerCapture(e.pointerId),n.domElement.addEventListener("pointermove",H),n.domElement.addEventListener("pointerup",V)),function(e){x.push(e.pointerId)}(e),"touch"===e.pointerType?X(e):function(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case m.kBv.DOLLY:if(!1===n.enableZoom)return;!function(e){D(e.clientX,e.clientX),v.set(e.clientX,e.clientY)}(e),o=r.DOLLY;break;case m.kBv.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;z(e),o=r.PAN}else{if(!1===n.enableRotate)return;L(e),o=r.ROTATE}break;case m.kBv.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;L(e),o=r.ROTATE}else{if(!1===n.enablePan)return;z(e),o=r.PAN}break;default:o=r.NONE}o!==r.NONE&&n.dispatchEvent(hr)}(e))}function H(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(Q(e),o){case r.TOUCH_ROTATE:if(!1===n.enableRotate)return;q(e),n.update();break;case r.TOUCH_PAN:if(!1===n.enablePan)return;U(e),n.update();break;case r.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&W(e),n.enablePan&&U(e)}(e),n.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&W(e),n.enableRotate&&q(e)}(e),n.update();break;default:o=r.NONE}}(e):function(e){switch(o){case r.ROTATE:if(!1===n.enableRotate)return;!function(e){d.set(e.clientX,e.clientY),h.subVectors(d,l).multiplyScalar(n.rotateSpeed);const t=n.domElement;S(2*Math.PI*h.x/t.clientHeight),T(2*Math.PI*h.y/t.clientHeight),l.copy(d),n.update()}(e);break;case r.DOLLY:if(!1===n.enableZoom)return;!function(e){y.set(e.clientX,e.clientY),b.subVectors(y,v),b.y>0?A(O(b.y)):b.y<0&&I(O(b.y)),v.copy(y),n.update()}(e);break;case r.PAN:if(!1===n.enablePan)return;!function(e){p.set(e.clientX,e.clientY),g.subVectors(p,f).multiplyScalar(n.panSpeed),M(g.x,g.y),f.copy(p),n.update()}(e)}}(e))}function V(e){switch(function(e){delete j[e.pointerId];for(let t=0;t<x.length;t++)if(x[t]==e.pointerId)return void x.splice(t,1)}(e),x.length){case 0:n.domElement.releasePointerCapture(e.pointerId),n.domElement.removeEventListener("pointermove",H),n.domElement.removeEventListener("pointerup",V),n.dispatchEvent(fr),o=r.NONE;break;case 1:const t=x[0],i=j[t];X({pointerId:t,pageX:i.x,pageY:i.y})}}function Y(e){!1!==n.enabled&&!1!==n.enableZoom&&o===r.NONE&&(e.preventDefault(),n.dispatchEvent(hr),function(e){D(e.clientX,e.clientY),e.deltaY<0?I(O(e.deltaY)):e.deltaY>0&&A(O(e.deltaY)),n.update()}(function(e){const t=e.deltaMode,n={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(t){case 1:n.deltaY*=16;break;case 2:n.deltaY*=100}e.ctrlKey&&!P&&(n.deltaY*=10);return n}(e)),n.dispatchEvent(fr))}function G(e){if("Control"===e.key){P=!1;n.domElement.getRootNode().removeEventListener("keyup",G,{passive:!0,capture:!0})}}function Z(e){!1!==n.enabled&&!1!==n.enablePan&&function(e){let t=!1;switch(e.code){case n.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?T(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):M(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?T(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):M(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?S(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):M(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?S(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):M(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function X(e){switch(Q(e),x.length){case 1:switch(n.touches.ONE){case m.wtR.ROTATE:if(!1===n.enableRotate)return;N(e),o=r.TOUCH_ROTATE;break;case m.wtR.PAN:if(!1===n.enablePan)return;F(e),o=r.TOUCH_PAN;break;default:o=r.NONE}break;case 2:switch(n.touches.TWO){case m.wtR.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&B(e),n.enablePan&&F(e)}(e),o=r.TOUCH_DOLLY_PAN;break;case m.wtR.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&B(e),n.enableRotate&&N(e)}(e),o=r.TOUCH_DOLLY_ROTATE;break;default:o=r.NONE}break;default:o=r.NONE}o!==r.NONE&&n.dispatchEvent(hr)}function K(e){!1!==n.enabled&&e.preventDefault()}function Q(e){let t=j[e.pointerId];void 0===t&&(t=new m.I9Y,j[e.pointerId]=t),t.set(e.pageX,e.pageY)}function J(e){const t=e.pointerId===x[0]?x[1]:x[0];return j[t]}n.domElement.addEventListener("contextmenu",K),n.domElement.addEventListener("pointerdown",$),n.domElement.addEventListener("pointercancel",V),n.domElement.addEventListener("wheel",Y,{passive:!1});n.domElement.getRootNode().addEventListener("keydown",(function(e){if("Control"===e.key){P=!0;n.domElement.getRootNode().addEventListener("keyup",G,{passive:!0,capture:!0})}}),{passive:!0,capture:!0}),this.update()}}const yr={type:"change"};class br extends m.Qev{constructor(e,t){super(),this.object=e,this.domElement=t,this.enabled=!0,this.movementSpeed=1,this.rollSpeed=.005,this.dragToLook=!1,this.autoForward=!1;const n=this,r=1e-6,o=new m.PTz,i=new m.Pq0;this.tmpQuaternion=new m.PTz,this.status=0,this.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this.moveVector=new m.Pq0(0,0,0),this.rotationVector=new m.Pq0(0,0,0),this.keydown=function(e){if(!e.altKey&&!1!==this.enabled){switch(e.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=.1;break;case"KeyW":this.moveState.forward=1;break;case"KeyS":this.moveState.back=1;break;case"KeyA":this.moveState.left=1;break;case"KeyD":this.moveState.right=1;break;case"KeyR":this.moveState.up=1;break;case"KeyF":this.moveState.down=1;break;case"ArrowUp":this.moveState.pitchUp=1;break;case"ArrowDown":this.moveState.pitchDown=1;break;case"ArrowLeft":this.moveState.yawLeft=1;break;case"ArrowRight":this.moveState.yawRight=1;break;case"KeyQ":this.moveState.rollLeft=1;break;case"KeyE":this.moveState.rollRight=1}this.updateMovementVector(),this.updateRotationVector()}},this.keyup=function(e){if(!1!==this.enabled){switch(e.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=1;break;case"KeyW":this.moveState.forward=0;break;case"KeyS":this.moveState.back=0;break;case"KeyA":this.moveState.left=0;break;case"KeyD":this.moveState.right=0;break;case"KeyR":this.moveState.up=0;break;case"KeyF":this.moveState.down=0;break;case"ArrowUp":this.moveState.pitchUp=0;break;case"ArrowDown":this.moveState.pitchDown=0;break;case"ArrowLeft":this.moveState.yawLeft=0;break;case"ArrowRight":this.moveState.yawRight=0;break;case"KeyQ":this.moveState.rollLeft=0;break;case"KeyE":this.moveState.rollRight=0}this.updateMovementVector(),this.updateRotationVector()}},this.pointerdown=function(e){if(!1!==this.enabled)if(this.dragToLook)this.status++;else{switch(e.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1}this.updateMovementVector()}},this.pointermove=function(e){if(!1!==this.enabled&&(!this.dragToLook||this.status>0)){const t=this.getContainerDimensions(),n=t.size[0]/2,r=t.size[1]/2;this.moveState.yawLeft=-(e.pageX-t.offset[0]-n)/n,this.moveState.pitchDown=(e.pageY-t.offset[1]-r)/r,this.updateRotationVector()}},this.pointerup=function(e){if(!1!==this.enabled){if(this.dragToLook)this.status--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(e.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0}this.updateMovementVector()}this.updateRotationVector()}},this.pointercancel=function(){!1!==this.enabled&&(this.dragToLook?(this.status=0,this.moveState.yawLeft=this.moveState.pitchDown=0):(this.moveState.forward=0,this.moveState.back=0,this.updateMovementVector()),this.updateRotationVector())},this.contextMenu=function(e){!1!==this.enabled&&e.preventDefault()},this.update=function(e){if(!1===this.enabled)return;const t=e*n.movementSpeed,a=e*n.rollSpeed;n.object.translateX(n.moveVector.x*t),n.object.translateY(n.moveVector.y*t),n.object.translateZ(n.moveVector.z*t),n.tmpQuaternion.set(n.rotationVector.x*a,n.rotationVector.y*a,n.rotationVector.z*a,1).normalize(),n.object.quaternion.multiply(n.tmpQuaternion),(i.distanceToSquared(n.object.position)>r||8*(1-o.dot(n.object.quaternion))>r)&&(n.dispatchEvent(yr),o.copy(n.object.quaternion),i.copy(n.object.position))},this.updateMovementVector=function(){const e=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-e+this.moveState.back},this.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft},this.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},this.dispose=function(){this.domElement.removeEventListener("contextmenu",a),this.domElement.removeEventListener("pointerdown",u),this.domElement.removeEventListener("pointermove",s),this.domElement.removeEventListener("pointerup",c),this.domElement.removeEventListener("pointercancel",l),window.removeEventListener("keydown",d),window.removeEventListener("keyup",h)};const a=this.contextMenu.bind(this),s=this.pointermove.bind(this),u=this.pointerdown.bind(this),c=this.pointerup.bind(this),l=this.pointercancel.bind(this),d=this.keydown.bind(this),h=this.keyup.bind(this);this.domElement.addEventListener("contextmenu",a),this.domElement.addEventListener("pointerdown",u),this.domElement.addEventListener("pointermove",s),this.domElement.addEventListener("pointerup",c),this.domElement.addEventListener("pointercancel",l),window.addEventListener("keydown",d),window.addEventListener("keyup",h),this.updateMovementVector(),this.updateRotationVector()}}const wr={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor = opacity * texel;\n\n\n\t\t}"};class _r{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const kr=new m.qUd(-1,1,1,-1,0,1);class xr extends m.LoY{constructor(){super(),this.setAttribute("position",new m.qtW([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new m.qtW([0,2,0,0,2,0],2))}}const jr=new xr;class Pr{constructor(e){this._mesh=new m.eaF(jr,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,kr)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class Or extends _r{constructor(e,t){super(),this.textureID=void 0!==t?t:"tDiffuse",e instanceof m.BKk?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=m.LlO.clone(e.uniforms),this.material=new m.BKk({name:void 0!==e.name?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new Pr(this.material)}render(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class Sr extends _r{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,n){const r=e.getContext(),o=e.state;let i,a;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0),this.inverse?(i=0,a=1):(i=1,a=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),o.buffers.stencil.setFunc(r.ALWAYS,i,4294967295),o.buffers.stencil.setClear(a),o.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.color.setMask(!0),o.buffers.depth.setMask(!0),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(r.EQUAL,1,4294967295),o.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),o.buffers.stencil.setLocked(!0)}}class Tr extends _r{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class Er{constructor(e,t){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),void 0===t){const n=e.getSize(new m.I9Y);this._width=n.width,this._height=n.height,(t=new m.nWS(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:m.ix0})).texture.name="EffectComposer.rt1"}else this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new Or(wr),this.copyPass.material.blending=m.XIg,this.clock=new m.zD7}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);-1!==t&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){void 0===e&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let n=!1;for(let r=0,o=this.passes.length;r<o;r++){const t=this.passes[r];if(!1!==t.enabled){if(t.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),t.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),t.needsSwap){if(n){const t=this.renderer.getContext(),n=this.renderer.state.buffers.stencil;n.setFunc(t.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),n.setFunc(t.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==Sr&&(t instanceof Sr?n=!0:t instanceof Tr&&(n=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(void 0===e){const t=this.renderer.getSize(new m.I9Y);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(let o=0;o<this.passes.length;o++)this.passes[o].setSize(n,r)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class Cr extends _r{constructor(e,t,n=null,r=null,o=null){super(),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=r,this.clearAlpha=o,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new m.Q1f}render(e,t,n){const r=e.autoClear;let o,i;e.autoClear=!1,null!==this.overrideMaterial&&(i=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),null!==this.clearColor&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor)),null!==this.clearAlpha&&(o=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),1==this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),!0===this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),null!==this.clearColor&&e.setClearColor(this._oldClearColor),null!==this.clearAlpha&&e.setClearAlpha(o),null!==this.overrideMaterial&&(this.scene.overrideMaterial=i),e.autoClear=r}}var Mr=n(8168),Ar=n(9417),Ir=n(7387),Dr=n(8593);var Rr=function(e){function t(t){var n;return n=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+t+" for more information.")||this,(0,Ar.A)(n)}return(0,Ir.A)(t,e),t}((0,Dr.A)(Error));function Lr(e,t){return e.substr(-t.length)===t}var zr=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function Nr(e){return"string"!=typeof e?e:e.match(zr)?parseFloat(e):e}var Fr=function(e){return function(t,n){void 0===n&&(n="16px");var r=t,o=n;if("string"==typeof t){if(!Lr(t,"px"))throw new Rr(69,e,t);r=Nr(t)}if("string"==typeof n){if(!Lr(n,"px"))throw new Rr(70,e,n);o=Nr(n)}if("string"==typeof r)throw new Rr(71,t,e);if("string"==typeof o)throw new Rr(72,n,e);return""+r/o+e}};Fr("em");Fr("rem");function Br(e){return Math.round(255*e)}function qr(e,t,n){return Br(e)+","+Br(t)+","+Br(n)}function Ur(e,t,n,r){if(void 0===r&&(r=qr),0===t)return r(n,n,n);var o=(e%360+360)%360/60,i=(1-Math.abs(2*n-1))*t,a=i*(1-Math.abs(o%2-1)),s=0,u=0,c=0;o>=0&&o<1?(s=i,u=a):o>=1&&o<2?(s=a,u=i):o>=2&&o<3?(u=i,c=a):o>=3&&o<4?(u=a,c=i):o>=4&&o<5?(s=a,c=i):o>=5&&o<6&&(s=i,c=a);var l=n-i/2;return r(s+l,u+l,c+l)}var Wr={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var $r=/^#[a-fA-F0-9]{6}$/,Hr=/^#[a-fA-F0-9]{8}$/,Vr=/^#[a-fA-F0-9]{3}$/,Yr=/^#[a-fA-F0-9]{4}$/,Gr=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,Zr=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,Xr=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,Kr=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function Qr(e){if("string"!=typeof e)throw new Rr(3);var t=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return Wr[t]?"#"+Wr[t]:e}(e);if(t.match($r))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(Hr)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(Vr))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(Yr)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var o=Gr.exec(t);if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10)};var i=Zr.exec(t.substring(0,50));if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10),alpha:parseFloat(""+i[4])>1?parseFloat(""+i[4])/100:parseFloat(""+i[4])};var a=Xr.exec(t);if(a){var s="rgb("+Ur(parseInt(""+a[1],10),parseInt(""+a[2],10)/100,parseInt(""+a[3],10)/100)+")",u=Gr.exec(s);if(!u)throw new Rr(4,t,s);return{red:parseInt(""+u[1],10),green:parseInt(""+u[2],10),blue:parseInt(""+u[3],10)}}var c=Kr.exec(t.substring(0,50));if(c){var l="rgb("+Ur(parseInt(""+c[1],10),parseInt(""+c[2],10)/100,parseInt(""+c[3],10)/100)+")",d=Gr.exec(l);if(!d)throw new Rr(4,t,l);return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10),alpha:parseFloat(""+c[4])>1?parseFloat(""+c[4])/100:parseFloat(""+c[4])}}throw new Rr(5)}function Jr(e){return function(e){var t,n=e.red/255,r=e.green/255,o=e.blue/255,i=Math.max(n,r,o),a=Math.min(n,r,o),s=(i+a)/2;if(i===a)return void 0!==e.alpha?{hue:0,saturation:0,lightness:s,alpha:e.alpha}:{hue:0,saturation:0,lightness:s};var u=i-a,c=s>.5?u/(2-i-a):u/(i+a);switch(i){case n:t=(r-o)/u+(r<o?6:0);break;case r:t=(o-n)/u+2;break;default:t=(n-r)/u+4}return t*=60,void 0!==e.alpha?{hue:t,saturation:c,lightness:s,alpha:e.alpha}:{hue:t,saturation:c,lightness:s}}(Qr(e))}var eo=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function to(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function no(e){return to(Math.round(255*e))}function ro(e,t,n){return eo("#"+no(e)+no(t)+no(n))}function oo(e,t,n){return Ur(e,t,n,ro)}function io(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return oo(e,t,n);if("object"==typeof e&&void 0===t&&void 0===n)return oo(e.hue,e.saturation,e.lightness);throw new Rr(1)}function ao(e,t,n,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r)return r>=1?oo(e,t,n):"rgba("+Ur(e,t,n)+","+r+")";if("object"==typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?oo(e.hue,e.saturation,e.lightness):"rgba("+Ur(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new Rr(2)}function so(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return eo("#"+to(e)+to(t)+to(n));if("object"==typeof e&&void 0===t&&void 0===n)return eo("#"+to(e.red)+to(e.green)+to(e.blue));throw new Rr(6)}function uo(e,t,n,r){if("string"==typeof e&&"number"==typeof t){var o=Qr(e);return"rgba("+o.red+","+o.green+","+o.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r)return r>=1?so(e,t,n):"rgba("+e+","+t+","+n+","+r+")";if("object"==typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?so(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new Rr(7)}var co=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&("number"!=typeof e.alpha||void 0===e.alpha)},lo=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha},ho=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&("number"!=typeof e.alpha||void 0===e.alpha)},fo=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha};function po(e){if("object"!=typeof e)throw new Rr(8);if(lo(e))return uo(e);if(co(e))return so(e);if(fo(e))return ao(e);if(ho(e))return io(e);throw new Rr(8)}function go(e,t,n){return function(){var r=n.concat(Array.prototype.slice.call(arguments));return r.length>=t?e.apply(this,r):go(e,t,r)}}function vo(e){return go(e,e.length,[])}vo((function(e,t){if("transparent"===t)return t;var n=Jr(t);return po((0,Mr.A)({},n,{hue:n.hue+parseFloat(e)}))}));function mo(e,t,n){return Math.max(e,Math.min(t,n))}vo((function(e,t){if("transparent"===t)return t;var n=Jr(t);return po((0,Mr.A)({},n,{lightness:mo(0,1,n.lightness-parseFloat(e))}))}));vo((function(e,t){if("transparent"===t)return t;var n=Jr(t);return po((0,Mr.A)({},n,{saturation:mo(0,1,n.saturation-parseFloat(e))}))}));vo((function(e,t){if("transparent"===t)return t;var n=Jr(t);return po((0,Mr.A)({},n,{lightness:mo(0,1,n.lightness+parseFloat(e))}))}));var yo=vo((function(e,t,n){if("transparent"===t)return n;if("transparent"===n)return t;if(0===e)return n;var r=Qr(t),o=(0,Mr.A)({},r,{alpha:"number"==typeof r.alpha?r.alpha:1}),i=Qr(n),a=(0,Mr.A)({},i,{alpha:"number"==typeof i.alpha?i.alpha:1}),s=o.alpha-a.alpha,u=2*parseFloat(e)-1,c=((u*s==-1?u:u+s)/(1+u*s)+1)/2,l=1-c;return uo({red:Math.floor(o.red*c+a.red*l),green:Math.floor(o.green*c+a.green*l),blue:Math.floor(o.blue*c+a.blue*l),alpha:o.alpha*parseFloat(e)+a.alpha*(1-parseFloat(e))})})),bo=yo;var wo=vo((function(e,t){if("transparent"===t)return t;var n=Qr(t),r="number"==typeof n.alpha?n.alpha:1;return uo((0,Mr.A)({},n,{alpha:mo(0,1,(100*r+100*parseFloat(e))/100)}))}));vo((function(e,t){if("transparent"===t)return t;var n=Jr(t);return po((0,Mr.A)({},n,{saturation:mo(0,1,n.saturation+parseFloat(e))}))}));vo((function(e,t){return"transparent"===t?t:po((0,Mr.A)({},Jr(t),{hue:parseFloat(e)}))}));vo((function(e,t){return"transparent"===t?t:po((0,Mr.A)({},Jr(t),{lightness:parseFloat(e)}))}));vo((function(e,t){return"transparent"===t?t:po((0,Mr.A)({},Jr(t),{saturation:parseFloat(e)}))}));vo((function(e,t){return"transparent"===t?t:bo(parseFloat(e),"rgb(0, 0, 0)",t)}));vo((function(e,t){return"transparent"===t?t:bo(parseFloat(e),"rgb(255, 255, 255)",t)}));vo((function(e,t){if("transparent"===t)return t;var n=Qr(t),r="number"==typeof n.alpha?n.alpha:1;return uo((0,Mr.A)({},n,{alpha:mo(0,1,+(100*r-100*parseFloat(e)).toFixed(2)/100)}))}));var _o=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return this.None(e)},Out:function(e){return this.None(e)},InOut:function(e){return this.None(e)}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}}),Back:Object.freeze({In:function(e){var t=1.70158;return 1===e?1:e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return 0===e?0:--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}}),Bounce:Object.freeze({In:function(e){return 1-_o.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*_o.Bounce.In(2*e):.5*_o.Bounce.Out(2*e-1)+.5}}),generatePow:function(e){return void 0===e&&(e=4),e=(e=e<Number.EPSILON?Number.EPSILON:e)>1e4?1e4:e,{In:function(t){return Math.pow(t,e)},Out:function(t){return 1-Math.pow(1-t,e)},InOut:function(t){return t<.5?Math.pow(2*t,e)/2:(1-Math.pow(2-2*t,e))/2+.5}}}}),ko=function(){return performance.now()},xo=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map((function(t){return e._tweens[t]}))},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){void 0===e&&(e=ko()),void 0===t&&(t=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var o=this._tweens[n[r]],i=!t;o&&!1===o.update(e,i)&&!t&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),jo={Linear:function(e,t){var n=e.length-1,r=n*t,o=Math.floor(r),i=jo.Utils.Linear;return t<0?i(e[0],e[1],r):t>1?i(e[n],e[n-1],n-r):i(e[o],e[o+1>n?n:o+1],r-o)},Bezier:function(e,t){for(var n=0,r=e.length-1,o=Math.pow,i=jo.Utils.Bernstein,a=0;a<=r;a++)n+=o(1-t,r-a)*o(t,a)*e[a]*i(r,a);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,o=Math.floor(r),i=jo.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(o=Math.floor(r=n*(1+t))),i(e[(o-1+n)%n],e[o],e[(o+1)%n],e[(o+2)%n],r-o)):t<0?e[0]-(i(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(i(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):i(e[o?o-1:0],e[o],e[n<o+1?n:o+1],e[n<o+2?n:o+2],r-o)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=jo.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var r=t;r>1;r--)n*=r;return e[t]=n,n}}(),CatmullRom:function(e,t,n,r,o){var i=.5*(n-e),a=.5*(r-t),s=o*o;return(2*t-2*n+i+a)*(o*s)+(-3*t+3*n-2*i-a)*s+i*o+t}}},Po=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),Oo=new xo,So=function(){function e(e,t){void 0===t&&(t=Oo),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=_o.Linear.None,this._interpolationFunction=jo.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=Po.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,t){if(void 0===t&&(t=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=t,this},e.prototype.duration=function(e){return void 0===e&&(e=1e3),this._duration=e,this},e.prototype.dynamic=function(e){return void 0===e&&(e=!1),this._isDynamic=e,this},e.prototype.start=function(e,t){if(void 0===e&&(e=ko()),void 0===t&&(t=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var n in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||t){if(this._propertiesAreSetUp=!0,!this._isDynamic){var r={};for(var o in this._valuesEnd)r[o]=this._valuesEnd[o];this._valuesEnd=r}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,t)}return this},e.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},e.prototype._setupProperties=function(e,t,n,r,o){for(var i in n){var a=e[i],s=Array.isArray(a),u=s?"array":typeof a,c=!s&&Array.isArray(n[i]);if("undefined"!==u&&"function"!==u){if(c){if(0===(v=n[i]).length)continue;for(var l=[a],d=0,h=v.length;d<h;d+=1){var f=this._handleRelativeValue(a,v[d]);if(isNaN(f)){c=!1,console.warn("Found invalid interpolation list. Skipping.");break}l.push(f)}c&&(n[i]=l)}if("object"!==u&&!s||!a||c)(void 0===t[i]||o)&&(t[i]=a),s||(t[i]*=1),r[i]=c?n[i].slice().reverse():t[i]||0;else{t[i]=s?[]:{};var p=a;for(var g in p)t[i][g]=p[g];r[i]=s?[]:{};var v=n[i];if(!this._isDynamic){var m={};for(var g in v)m[g]=v[g];n[i]=v=m}this._setupProperties(p,t[i],v,r[i],o)}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(e){return void 0===e&&(e=ko()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this)),this},e.prototype.resume=function(e){return void 0===e&&(e=ko()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return void 0===e&&(e=Oo),this._group=e,this},e.prototype.delay=function(e){return void 0===e&&(e=0),this._delayTime=e,this},e.prototype.repeat=function(e){return void 0===e&&(e=0),this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return void 0===e&&(e=!1),this._yoyo=e,this},e.prototype.easing=function(e){return void 0===e&&(e=_o.Linear.None),this._easingFunction=e,this},e.prototype.interpolation=function(e){return void 0===e&&(e=jo.Linear),this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e,t){if(void 0===e&&(e=ko()),void 0===t&&(t=!0),this._isPaused)return!0;var n,r,o=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>o)return!1;t&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),!1===this._onEveryStartCallbackFired&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),r=(e-this._startTime)/this._duration,r=0===this._duration||r>1?1:r;var i=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,i),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,s=this._chainedTweens.length;a<s;a++)this._chainedTweens[a].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(e,t,n,r){for(var o in n)if(void 0!==t[o]){var i=t[o]||0,a=n[o],s=Array.isArray(e[o]),u=Array.isArray(a);!s&&u?e[o]=this._interpolationFunction(a,r):"object"==typeof a&&a?this._updateProperties(e[o],i,a,r):"number"==typeof(a=this._handleRelativeValue(i,a))&&(e[o]=i+(a-i)*r)}},e.prototype._handleRelativeValue=function(e,t){return"string"!=typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];this._valuesStartRepeat[e]="string"==typeof n?this._valuesStartRepeat[e]+parseFloat(n):this._valuesEnd[e],this._valuesEnd[e]=t},e}(),To=(Po.nextId,Oo),Eo=(To.getAll.bind(To),To.removeAll.bind(To),To.add.bind(To),To.remove.bind(To),To.update.bind(To));function Co(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Io(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ao(e){return function(e){if(Array.isArray(e))return Do(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Io(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Io(e,t){if(e){if("string"==typeof e)return Do(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Do(e,t):void 0}}function Do(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".scene-nav-info {\n  bottom: 5px;\n  width: 100%;\n  text-align: center;\n  color: slategrey;\n  opacity: 0.7;\n  font-size: 10px;\n}\n\n.scene-tooltip {\n  top: 0;\n  color: lavender;\n  font-size: 15px;\n}\n\n.scene-nav-info, .scene-tooltip {\n  position: absolute;\n  font-family: sans-serif;\n  pointer-events: none;\n  user-select: none;\n}\n\n.scene-container canvas:focus {\n  outline: none;\n}");var Ro=window.THREE?window.THREE:{WebGLRenderer:m.JeP,Scene:m.Z58,PerspectiveCamera:m.ubm,Raycaster:m.tBo,SRGBColorSpace:m.er$,TextureLoader:m.Tap,Vector2:m.I9Y,Vector3:m.Pq0,Box3:m.NRn,Color:m.Q1f,Mesh:m.eaF,SphereGeometry:m.Gu$,MeshBasicMaterial:m.V9B,BackSide:m.hsX,EventDispatcher:m.Qev,MOUSE:m.kBv,Quaternion:m.PTz,Spherical:m.YHV,Clock:m.zD7},Lo=yt({props:{width:{default:window.innerWidth,onChange:function(e,t,n){isNaN(e)&&(t.width=n)}},height:{default:window.innerHeight,onChange:function(e,t,n){isNaN(e)&&(t.height=n)}},backgroundColor:{default:"#000011"},backgroundImageUrl:{},onBackgroundImageLoaded:{},showNavInfo:{default:!0},skyRadius:{default:5e4},objects:{default:[]},lights:{default:[]},enablePointerInteraction:{default:!0,onChange:function(e,t){t.hoverObj=null,t.toolTipElem&&(t.toolTipElem.innerHTML="")},triggerUpdate:!1},lineHoverPrecision:{default:1,triggerUpdate:!1},hoverOrderComparator:{default:function(){return-1},triggerUpdate:!1},hoverFilter:{default:function(){return!0},triggerUpdate:!1},tooltipContent:{triggerUpdate:!1},hoverDuringDrag:{default:!1,triggerUpdate:!1},clickAfterDrag:{default:!1,triggerUpdate:!1},onHover:{default:function(){},triggerUpdate:!1},onClick:{default:function(){},triggerUpdate:!1},onRightClick:{triggerUpdate:!1}},methods:{tick:function(e){if(e.initialised){if(e.controls.update&&e.controls.update(e.clock.getDelta()),e.postProcessingComposer?e.postProcessingComposer.render():e.renderer.render(e.scene,e.camera),e.extraRenderers.forEach((function(t){return t.render(e.scene,e.camera)})),e.enablePointerInteraction){var t=null;if(e.hoverDuringDrag||!e.isPointerDragging){var n=this.intersectingObjects(e.pointerPos.x,e.pointerPos.y).filter((function(t){return e.hoverFilter(t.object)})).sort((function(t,n){return e.hoverOrderComparator(t.object,n.object)})),r=n.length?n[0]:null;t=r?r.object:null,e.intersectionPoint=r?r.point:null}t!==e.hoverObj&&(e.onHover(t,e.hoverObj),e.toolTipElem.innerHTML=t&&bt(e.tooltipContent)(t)||"",e.hoverObj=t)}Eo()}return this},getPointerPos:function(e){var t=e.pointerPos;return{x:t.x,y:t.y}},cameraPosition:function(e,t,n,r){var o=e.camera;if(t&&e.initialised){var i=t,a=n||{x:0,y:0,z:0};if(r){var s=Object.assign({},o.position),u=d();new So(s).to(i,r).easing(_o.Quadratic.Out).onUpdate(c).start(),new So(u).to(a,r/3).easing(_o.Quadratic.Out).onUpdate(l).start()}else c(i),l(a);return this}return Object.assign({},o.position,{lookAt:d()});function c(e){var t=e.x,n=e.y,r=e.z;void 0!==t&&(o.position.x=t),void 0!==n&&(o.position.y=n),void 0!==r&&(o.position.z=r)}function l(t){var n=new Ro.Vector3(t.x,t.y,t.z);e.controls.target?e.controls.target=n:o.lookAt(n)}function d(){return Object.assign(new Ro.Vector3(0,0,-1e3).applyQuaternion(o.quaternion).add(o.position))}},zoomToFit:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];return this.fitToBbox(this.getBbox.apply(this,o),t,n)},fitToBbox:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,o=e.camera;if(t){var i=new Ro.Vector3(0,0,0),a=2*Math.max.apply(Math,Ao(Object.entries(t).map((function(e){var t=Mo(e,2),n=t[0],r=t[1];return Math.max.apply(Math,Ao(r.map((function(e){return Math.abs(i[n]-e)}))))})))),s=(1-2*r/e.height)*o.fov,u=a/Math.atan(s*Math.PI/180),c=u/o.aspect,l=Math.max(u,c);if(l>0){var d=i.clone().sub(o.position).normalize().multiplyScalar(-l);this.cameraPosition(d,i,n)}}return this},getBbox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n=new Ro.Box3(new Ro.Vector3(0,0,0),new Ro.Vector3(0,0,0)),r=e.objects.filter(t);return r.length?(r.forEach((function(e){return n.expandByObject(e)})),Object.assign.apply(Object,Ao(["x","y","z"].map((function(e){return Co({},e,[n.min[e],n.max[e]])}))))):null},getScreenCoords:function(e,t,n,r){var o=new Ro.Vector3(t,n,r);return o.project(this.camera()),{x:(o.x+1)*e.width/2,y:-(o.y-1)*e.height/2}},getSceneCoords:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=new Ro.Vector2(t/e.width*2-1,-n/e.height*2+1),i=new Ro.Raycaster;return i.setFromCamera(o,e.camera),Object.assign({},i.ray.at(r,new Ro.Vector3))},intersectingObjects:function(e,t,n){var r=new Ro.Vector2(t/e.width*2-1,-n/e.height*2+1),o=new Ro.Raycaster;return o.params.Line.threshold=e.lineHoverPrecision,o.setFromCamera(r,e.camera),o.intersectObjects(e.objects,!0)},renderer:function(e){return e.renderer},scene:function(e){return e.scene},camera:function(e){return e.camera},postProcessingComposer:function(e){return e.postProcessingComposer},controls:function(e){return e.controls},tbControls:function(e){return e.controls}},stateInit:function(){return{scene:new Ro.Scene,camera:new Ro.PerspectiveCamera,clock:new Ro.Clock}},init:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.controlType,o=void 0===r?"trackball":r,i=n.rendererConfig,a=void 0===i?{}:i,s=n.extraRenderers,u=void 0===s?[]:s,c=n.waitForLoadComplete,l=void 0===c||c;e.innerHTML="",e.appendChild(t.container=document.createElement("div")),t.container.className="scene-container",t.container.style.position="relative",t.container.appendChild(t.navInfo=document.createElement("div")),t.navInfo.className="scene-nav-info",t.navInfo.textContent={orbit:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",trackball:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",fly:"WASD: move, R|F: up | down, Q|E: roll, up|down: pitch, left|right: yaw"}[o]||"",t.navInfo.style.display=t.showNavInfo?null:"none",t.toolTipElem=document.createElement("div"),t.toolTipElem.classList.add("scene-tooltip"),t.container.appendChild(t.toolTipElem),t.pointerPos=new Ro.Vector2,t.pointerPos.x=-2,t.pointerPos.y=-2,["pointermove","pointerdown"].forEach((function(e){return t.container.addEventListener(e,(function(n){if("pointerdown"===e&&(t.isPointerPressed=!0),!t.isPointerDragging&&"pointermove"===n.type&&(n.pressure>0||t.isPointerPressed)&&("touch"!==n.pointerType||void 0===n.movementX||[n.movementX,n.movementY].some((function(e){return Math.abs(e)>1})))&&(t.isPointerDragging=!0),t.enablePointerInteraction){var r=(o=t.container,i=o.getBoundingClientRect(),a=window.pageXOffset||document.documentElement.scrollLeft,s=window.pageYOffset||document.documentElement.scrollTop,{top:i.top+s,left:i.left+a});t.pointerPos.x=n.pageX-r.left,t.pointerPos.y=n.pageY-r.top,t.toolTipElem.style.top="".concat(t.pointerPos.y,"px"),t.toolTipElem.style.left="".concat(t.pointerPos.x,"px"),t.toolTipElem.style.transform="translate(-".concat(t.pointerPos.x/t.width*100,"%, ").concat(t.height-t.pointerPos.y<100?"calc(-100% - 8px)":"21px",")")}var o,i,a,s}),{passive:!0})})),t.container.addEventListener("pointerup",(function(e){t.isPointerPressed=!1,t.isPointerDragging&&(t.isPointerDragging=!1,!t.clickAfterDrag)||requestAnimationFrame((function(){0===e.button&&t.onClick(t.hoverObj||null,e,t.intersectionPoint),2===e.button&&t.onRightClick&&t.onRightClick(t.hoverObj||null,e,t.intersectionPoint)}))}),{passive:!0,capture:!0}),t.container.addEventListener("contextmenu",(function(e){t.onRightClick&&e.preventDefault()})),t.renderer=new Ro.WebGLRenderer(Object.assign({antialias:!0,alpha:!0},a)),t.renderer.setPixelRatio(Math.min(2,window.devicePixelRatio)),t.container.appendChild(t.renderer.domElement),t.extraRenderers=u,t.extraRenderers.forEach((function(e){e.domElement.style.position="absolute",e.domElement.style.top="0px",e.domElement.style.pointerEvents="none",t.container.appendChild(e.domElement)})),t.postProcessingComposer=new Er(t.renderer),t.postProcessingComposer.addPass(new Cr(t.scene,t.camera)),t.controls=new{trackball:lr,orbit:mr,fly:br}[o](t.camera,t.renderer.domElement),"fly"===o&&(t.controls.movementSpeed=300,t.controls.rollSpeed=Math.PI/6,t.controls.dragToLook=!0),"trackball"!==o&&"orbit"!==o||(t.controls.minDistance=.1,t.controls.maxDistance=t.skyRadius,t.controls.addEventListener("start",(function(){t.controlsEngaged=!0})),t.controls.addEventListener("change",(function(){t.controlsEngaged&&(t.controlsDragging=!0)})),t.controls.addEventListener("end",(function(){t.controlsEngaged=!1,t.controlsDragging=!1}))),[t.renderer,t.postProcessingComposer].concat(Ao(t.extraRenderers)).forEach((function(e){return e.setSize(t.width,t.height)})),t.camera.aspect=t.width/t.height,t.camera.updateProjectionMatrix(),t.camera.position.z=1e3,t.scene.add(t.skysphere=new Ro.Mesh),t.skysphere.visible=!1,t.loadComplete=t.scene.visible=!l,window.scene=t.scene},update:function(e,t){if(e.width&&e.height&&(t.hasOwnProperty("width")||t.hasOwnProperty("height"))&&(e.container.style.width="".concat(e.width,"px"),e.container.style.height="".concat(e.height,"px"),[e.renderer,e.postProcessingComposer].concat(Ao(e.extraRenderers)).forEach((function(t){return t.setSize(e.width,e.height)})),e.camera.aspect=e.width/e.height,e.camera.updateProjectionMatrix()),t.hasOwnProperty("skyRadius")&&e.skyRadius&&(e.controls.hasOwnProperty("maxDistance")&&t.skyRadius&&(e.controls.maxDistance=Math.min(e.controls.maxDistance,e.skyRadius)),e.camera.far=2.5*e.skyRadius,e.camera.updateProjectionMatrix(),e.skysphere.geometry=new Ro.SphereGeometry(e.skyRadius)),t.hasOwnProperty("backgroundColor")){var n=Qr(e.backgroundColor).alpha;void 0===n&&(n=1),e.renderer.setClearColor(new Ro.Color(wo(1,e.backgroundColor)),n)}function r(){e.loadComplete=e.scene.visible=!0}t.hasOwnProperty("backgroundImageUrl")&&(e.backgroundImageUrl?(new Ro.TextureLoader).load(e.backgroundImageUrl,(function(t){t.colorSpace=Ro.SRGBColorSpace,e.skysphere.material=new Ro.MeshBasicMaterial({map:t,side:Ro.BackSide}),e.skysphere.visible=!0,e.onBackgroundImageLoaded&&setTimeout(e.onBackgroundImageLoaded),!e.loadComplete&&r()})):(e.skysphere.visible=!1,e.skysphere.material.map=null,!e.loadComplete&&r())),t.hasOwnProperty("showNavInfo")&&(e.navInfo.style.display=e.showNavInfo?null:"none"),t.hasOwnProperty("lights")&&((t.lights||[]).forEach((function(t){return e.scene.remove(t)})),e.lights.forEach((function(t){return e.scene.add(t)}))),t.hasOwnProperty("objects")&&((t.objects||[]).forEach((function(t){return e.scene.remove(t)})),e.objects.forEach((function(t){return e.scene.add(t)})))}});function zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function No(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zo(Object(n),!0).forEach((function(t){Fo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bo(e){return function(e){if(Array.isArray(e))return qo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uo(e,t){var n=new t;return n._destructor&&n._destructor(),{linkProp:function(t){return{default:n[t](),onChange:function(n,r){r[e][t](n)},triggerUpdate:!1}},linkMethod:function(t){return function(n){for(var r=n[e],o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];var s=r[t].apply(r,i);return s===r?this:s}}}}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".graph-info-msg {\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  color: lavender;\n  opacity: 0.7;\n  font-size: 22px;\n  position: absolute;\n  font-family: Sans-serif;\n}\n\n.scene-container .clickable {\n  cursor: pointer;\n}\n\n.scene-container .grabbable {\n  cursor: move;\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n\n.scene-container .grabbable:active {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n}");var Wo=window.THREE?window.THREE:{AmbientLight:m.$p8,DirectionalLight:m.ZyN,Vector3:m.Pq0},$o=Uo("forceGraph",ar),Ho=Object.assign.apply(Object,Bo(["jsonUrl","graphData","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","nodeVal","nodeResolution","nodeColor","nodeAutoColorBy","nodeOpacity","nodeVisibility","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaDecay","d3VelocityDecay","d3AlphaMin","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map((function(e){return Fo({},e,$o.linkProp(e))})))),Vo=Object.assign.apply(Object,Bo(["refresh","getGraphBbox","d3Force","d3ReheatSimulation","emitParticle"].map((function(e){return Fo({},e,$o.linkMethod(e))})))),Yo=Uo("renderObjs",Lo),Go=Object.assign.apply(Object,Bo(["width","height","backgroundColor","showNavInfo","enablePointerInteraction"].map((function(e){return Fo({},e,Yo.linkProp(e))})))),Zo=Object.assign.apply(Object,Bo(["lights","cameraPosition","postProcessingComposer"].map((function(e){return Fo({},e,Yo.linkMethod(e))}))).concat([{graph2ScreenCoords:Yo.linkMethod("getScreenCoords"),screen2GraphCoords:Yo.linkMethod("getSceneCoords")}])),Xo=yt({props:No(No({nodeLabel:{default:"name",triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:1,onChange:function(e,t){return t.renderObjs.lineHoverPrecision(e)},triggerUpdate:!1},enableNavigationControls:{default:!0,onChange:function(e,t){var n=t.renderObjs.controls();n&&(n.enabled=e,e&&n.domElement&&n.domElement.dispatchEvent(new PointerEvent("pointerup")))},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1}},Ho),Go),methods:No(No({zoomToFit:function(e,t,n){for(var r,o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];return e.renderObjs.fitToBbox((r=e.forceGraph).getGraphBbox.apply(r,i),t,n),this},pauseAnimation:function(e){return null!==e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return null===e.animationFrameRequestId&&this._animationCycle(),this},_animationCycle:function(e){e.enablePointerInteraction&&(this.renderer().domElement.style.cursor=null),e.forceGraph.tickFrame(),e.renderObjs.tick(),e.animationFrameRequestId=requestAnimationFrame(this._animationCycle)},scene:function(e){return e.renderObjs.scene()},camera:function(e){return e.renderObjs.camera()},renderer:function(e){return e.renderObjs.renderer()},controls:function(e){return e.renderObjs.controls()},tbControls:function(e){return e.renderObjs.tbControls()},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},Vo),Zo),stateInit:function(e){var t=e.controlType,n=e.rendererConfig,r=e.extraRenderers,o=new ar;return{forceGraph:o,renderObjs:Lo({controlType:t,rendererConfig:n,extraRenderers:r}).objects([o]).lights([new Wo.AmbientLight(13421772,Math.PI),new Wo.DirectionalLight(16777215,.6*Math.PI)])}},init:function(e,t){e.innerHTML="",e.appendChild(t.container=document.createElement("div")),t.container.style.position="relative";var n=document.createElement("div");t.container.appendChild(n),t.renderObjs(n);var r,o=t.renderObjs.camera(),i=t.renderObjs.renderer(),a=t.renderObjs.controls();a.enabled=!!t.enableNavigationControls,t.lastSetCameraZ=o.position.z,t.container.appendChild(r=document.createElement("div")),r.className="graph-info-msg",r.textContent="",t.forceGraph.onLoading((function(){r.textContent="Loading..."})).onFinishLoading((function(){r.textContent=""})).onUpdate((function(){t.graphData=t.forceGraph.graphData(),0===o.position.x&&0===o.position.y&&o.position.z===t.lastSetCameraZ&&t.graphData.nodes.length&&(o.lookAt(t.forceGraph.position),t.lastSetCameraZ=o.position.z=170*Math.cbrt(t.graphData.nodes.length))})).onFinishUpdate((function(){if(t._dragControls){var e=t.graphData.nodes.find((function(e){return e.__initialFixedPos&&!e.__disposeControlsAfterDrag}));e?e.__disposeControlsAfterDrag=!0:t._dragControls.dispose(),t._dragControls=void 0}if(t.enableNodeDrag&&t.enablePointerInteraction&&"d3"===t.forceEngine){var n=t._dragControls=new P(t.graphData.nodes.map((function(e){return e.__threeObj})).filter((function(e){return e})),o,i.domElement);n.addEventListener("dragstart",(function(e){a.enabled=!1,e.object.__initialPos=e.object.position.clone(),e.object.__prevPos=e.object.position.clone();var t=Ko(e.object).__data;!t.__initialFixedPos&&(t.__initialFixedPos={fx:t.fx,fy:t.fy,fz:t.fz}),!t.__initialPos&&(t.__initialPos={x:t.x,y:t.y,z:t.z}),["x","y","z"].forEach((function(e){return t["f".concat(e)]=t[e]})),i.domElement.classList.add("grabbable")})),n.addEventListener("drag",(function(e){var n=Ko(e.object);if(!e.object.hasOwnProperty("__graphObjType")){var r=e.object.__initialPos,o=e.object.__prevPos,i=e.object.position;n.position.add(i.clone().sub(o)),o.copy(i),i.copy(r)}var a=n.__data,s=n.position,u={x:s.x-a.x,y:s.y-a.y,z:s.z-a.z};["x","y","z"].forEach((function(e){return a["f".concat(e)]=a[e]=s[e]})),t.forceGraph.d3AlphaTarget(.3).resetCountdown(),a.__dragged=!0,t.onNodeDrag(a,u)})),n.addEventListener("dragend",(function(e){delete e.object.__initialPos,delete e.object.__prevPos;var r=Ko(e.object).__data;r.__disposeControlsAfterDrag&&(n.dispose(),delete r.__disposeControlsAfterDrag);var o=r.__initialFixedPos,s=r.__initialPos,u={x:s.x-r.x,y:s.y-r.y,z:s.z-r.z};o&&(["x","y","z"].forEach((function(e){var t="f".concat(e);void 0===o[t]&&delete r[t]})),delete r.__initialFixedPos,delete r.__initialPos,r.__dragged&&(delete r.__dragged,t.onNodeDragEnd(r,u))),t.forceGraph.d3AlphaTarget(0).resetCountdown(),t.enableNavigationControls&&(a.enabled=!0,a.domElement&&a.domElement.ownerDocument&&a.domElement.ownerDocument.dispatchEvent(new PointerEvent("pointerup",{pointerType:"touch"}))),i.domElement.classList.remove("grabbable")}))}})),t.renderObjs.renderer().useLegacyLights=!1,t.renderObjs.hoverOrderComparator((function(e,t){var n=Ko(e);if(!n)return 1;var r=Ko(t);if(!r)return-1;var o=function(e){return"node"===e.__graphObjType};return o(r)-o(n)})).tooltipContent((function(e){var n=Ko(e);return n&&bt(t["".concat(n.__graphObjType,"Label")])(n.__data)||""})).hoverDuringDrag(!1).onHover((function(e){var n=Ko(e);if(n!==t.hoverObj){var r=t.hoverObj?t.hoverObj.__graphObjType:null,o=t.hoverObj?t.hoverObj.__data:null,a=n?n.__graphObjType:null,s=n?n.__data:null;if(r&&r!==a){var u=t["on".concat("node"===r?"Node":"Link","Hover")];u&&u(null,o)}if(a){var c=t["on".concat("node"===a?"Node":"Link","Hover")];c&&c(s,r===a?o:null)}i.domElement.classList[n&&t["on".concat("node"===a?"Node":"Link","Click")]||!n&&t.onBackgroundClick?"add":"remove"]("clickable"),t.hoverObj=n}})).clickAfterDrag(!1).onClick((function(e,n){var r=Ko(e);if(r){var o=t["on".concat("node"===r.__graphObjType?"Node":"Link","Click")];o&&o(r.__data,n)}else t.onBackgroundClick&&t.onBackgroundClick(n)})).onRightClick((function(e,n){var r=Ko(e);if(r){var o=t["on".concat("node"===r.__graphObjType?"Node":"Link","RightClick")];o&&o(r.__data,n)}else t.onBackgroundRightClick&&t.onBackgroundRightClick(n)})),this._animationCycle()}});function Ko(e){for(var t=e;t&&!t.hasOwnProperty("__graphObjType");)t=t.parent;return t}var Qo=n(5556);const Jo={width:Qo.number,height:Qo.number,graphData:Qo.shape({nodes:Qo.arrayOf(Qo.object).isRequired,links:Qo.arrayOf(Qo.object).isRequired}),backgroundColor:Qo.string,nodeRelSize:Qo.number,nodeId:Qo.string,nodeLabel:Qo.oneOfType([Qo.string,Qo.func]),nodeVal:Qo.oneOfType([Qo.number,Qo.string,Qo.func]),nodeVisibility:Qo.oneOfType([Qo.bool,Qo.string,Qo.func]),nodeColor:Qo.oneOfType([Qo.string,Qo.func]),nodeAutoColorBy:Qo.oneOfType([Qo.string,Qo.func]),onNodeHover:Qo.func,onNodeClick:Qo.func,linkSource:Qo.string,linkTarget:Qo.string,linkLabel:Qo.oneOfType([Qo.string,Qo.func]),linkVisibility:Qo.oneOfType([Qo.bool,Qo.string,Qo.func]),linkColor:Qo.oneOfType([Qo.string,Qo.func]),linkAutoColorBy:Qo.oneOfType([Qo.string,Qo.func]),linkWidth:Qo.oneOfType([Qo.number,Qo.string,Qo.func]),linkCurvature:Qo.oneOfType([Qo.number,Qo.string,Qo.func]),linkDirectionalArrowLength:Qo.oneOfType([Qo.number,Qo.string,Qo.func]),linkDirectionalArrowColor:Qo.oneOfType([Qo.string,Qo.func]),linkDirectionalArrowRelPos:Qo.oneOfType([Qo.number,Qo.string,Qo.func]),linkDirectionalParticles:Qo.oneOfType([Qo.number,Qo.string,Qo.func]),linkDirectionalParticleSpeed:Qo.oneOfType([Qo.number,Qo.string,Qo.func]),linkDirectionalParticleWidth:Qo.oneOfType([Qo.number,Qo.string,Qo.func]),linkDirectionalParticleColor:Qo.oneOfType([Qo.string,Qo.func]),onLinkHover:Qo.func,onLinkClick:Qo.func,dagMode:Qo.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:Qo.number,dagNodeFilter:Qo.func,onDagError:Qo.func,d3AlphaMin:Qo.number,d3AlphaDecay:Qo.number,d3VelocityDecay:Qo.number,warmupTicks:Qo.number,cooldownTicks:Qo.number,cooldownTime:Qo.number,onEngineTick:Qo.func,onEngineStop:Qo.func,getGraphBbox:Qo.func},ei={zoomToFit:Qo.func,onNodeRightClick:Qo.func,onNodeDrag:Qo.func,onNodeDragEnd:Qo.func,onLinkRightClick:Qo.func,linkHoverPrecision:Qo.number,onBackgroundClick:Qo.func,onBackgroundRightClick:Qo.func,enablePointerInteraction:Qo.bool,enableNodeDrag:Qo.bool},ti={showNavInfo:Qo.bool,nodeOpacity:Qo.number,nodeResolution:Qo.number,nodeThreeObject:Qo.oneOfType([Qo.object,Qo.string,Qo.func]),nodeThreeObjectExtend:Qo.oneOfType([Qo.bool,Qo.string,Qo.func]),linkOpacity:Qo.number,linkResolution:Qo.number,linkCurveRotation:Qo.oneOfType([Qo.number,Qo.string,Qo.func]),linkMaterial:Qo.oneOfType([Qo.object,Qo.string,Qo.func]),linkThreeObject:Qo.oneOfType([Qo.object,Qo.string,Qo.func]),linkThreeObjectExtend:Qo.oneOfType([Qo.bool,Qo.string,Qo.func]),linkPositionUpdate:Qo.func,linkDirectionalArrowResolution:Qo.number,linkDirectionalParticleResolution:Qo.number,forceEngine:Qo.oneOf(["d3","ngraph"]),ngraphPhysics:Qo.object,numDimensions:Qo.oneOf([1,2,3])};Object.assign({},Jo,ei,{linkLineDash:Qo.oneOfType([Qo.arrayOf(Qo.number),Qo.string,Qo.func]),nodeCanvasObjectMode:Qo.oneOfType([Qo.string,Qo.func]),nodeCanvasObject:Qo.func,nodePointerAreaPaint:Qo.func,linkCanvasObjectMode:Qo.oneOfType([Qo.string,Qo.func]),linkCanvasObject:Qo.func,linkPointerAreaPaint:Qo.func,autoPauseRedraw:Qo.bool,minZoom:Qo.number,maxZoom:Qo.number,enableZoomInteraction:Qo.bool,enablePanInteraction:Qo.bool,onZoom:Qo.func,onZoomEnd:Qo.func,onRenderFramePre:Qo.func,onRenderFramePost:Qo.func});const ni=Object.assign({},Jo,ei,ti,{enableNavigationControls:Qo.bool,controlType:Qo.oneOf(["trackball","orbit","fly"]),rendererConfig:Qo.object,extraRenderers:Qo.arrayOf(Qo.shape({render:Qo.func.isRequired}))});Object.assign({},Jo,ti,{nodeDesc:Qo.oneOfType([Qo.string,Qo.func]),linkDesc:Qo.oneOfType([Qo.string,Qo.func])}),Object.assign({},Jo,ti,{markerAttrs:Qo.object,yOffset:Qo.number,glScale:Qo.number});const ri=function(e,t){var n="object"===d(t)?t:{wrapperElementType:t,methodNames:(arguments.length<=2?void 0:arguments[2])||void 0,initPropNames:(arguments.length<=3?void 0:arguments[3])||void 0},r=n.wrapperElementType,u=void 0===r?"div":r,c=n.nodeMapper,p=void 0===c?function(e){return e}:c,g=n.methodNames,m=void 0===g?[]:g,y=n.initPropNames,b=void 0===y?[]:y;return(0,o.forwardRef)((function(t,n){var r=(0,o.useRef)(),c=h((0,o.useState)({}),2),d=c[0],g=c[1];(0,o.useEffect)((function(){return g(t)}));var y=(0,o.useMemo)((function(){var n=l(b.filter((function(e){return t.hasOwnProperty(e)})).map((function(e){return[e,t[e]]})));return e(n)}),[]);v((function(){y(p(r.current))}),o.useLayoutEffect),v((function(){return y._destructor instanceof Function?y._destructor:void 0}));var w,_,k,x=(0,o.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return y[e]instanceof Function?y[e].apply(y,n):void 0}),[y]),j=(w=t,_=[].concat(f(m),f(b)),k=new Set(_),Object.assign.apply(Object,[{}].concat(s(Object.entries(w).filter((function(e){var t=a(e,1)[0];return!k.has(t)})).map((function(e){var t=a(e,2);return i({},t[0],t[1])}))))));return Object.keys(j).filter((function(e){return d[e]!==t[e]})).forEach((function(e){return x(e,t[e])})),(0,o.useImperativeHandle)(n,(function(){return l(m.map((function(e){return[e,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x.apply(void 0,[e].concat(n))}]})))})),o.createElement(u,{ref:r})}))}(Xo,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","cameraPosition","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords","postProcessingComposer","lights","scene","camera","renderer","controls","refresh"],initPropNames:["controlType","rendererConfig","extraRenderers"]});ri.displayName="ForceGraph3D",ri.propTypes=ni;var oi=JSON.parse('{"nodes":[{"id":"Intro to Data Visualization","name":"Intro to Data Visualization","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":["tutorial","intro-to-data-visualization"],"title":"Intro to Data Visualization","summary":"What is Data visualization?","tags":["beginner","data science"],"date":{"updated":"Mon Feb 5 2024 18:59:38 GMT-0800 (Pacific Standard Time)","uploaded":"Mon Feb 5 2024 18:59:38 GMT-0800 (Pacific Standard Time)"},"hidden":false,"links":{"to":["Intro to data viz with Python","Intro to data viz with R"],"from":["Computer Science"]},"type":"tutorial"}},{"id":"Hack at UCI 2024: Product Design & Web Dev Intro","name":"Hack at UCI 2024: Product Design & Web Dev Intro","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":["tutorial","webapp-demos","hack-at-uci-2024"],"title":"Hack at UCI 2024: Product Design & Web Dev Intro","summary":"For Hack at UCI 2024\'s first workshop of the event, we\'ll go over basic product design and then use what we\'ve learned there to translate into a basic web app. The focus here will be on the various parts that exist and how they interact with each other to form a cohesive app.","tags":["hackathon","HackAtUCI","web developement","Flask","frontend","backend","Yelp API","Yelp"],"date":{"updated":"Fri Jan 26 2024 16:09:38 GMT-0800 (Pacific Standard Time)","uploaded":"Fri Jan 26 2024 16:09:38 GMT-0800 (Pacific Standard Time)"},"hidden":false,"type":"tutorial"}},{"id":"Web Dev 3D [Three.js]: Custom Objects","name":"Web Dev 3D [Three.js]: Custom Objects","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":["tutorial","web-dev","3d","threejs","custom-objects"],"title":"Web Dev 3D [Three.js]: Custom Objects","summary":"Learn how to add your own custom objects into our Three.js scene. I\'ll provide a GLTF file for y\'all\'s to try out.","tags":["html","js","Javascript","3d","frontend","beginner","three.js"],"date":{"updated":"Sun, 21 Jan 2024 20:09:00 PST","uploaded":"Sun, 21 Apr 2024 20:09:00 PST"},"links":{"from":["Web Dev 3D [Three.js]: Basics"]},"type":"tutorial"}},{"id":"Web Dev 3D [Three.js]: Basics","name":"Web Dev 3D [Three.js]: Basics","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":["tutorial","web-dev","3d","threejs","basic"],"title":"Web Dev 3D [Three.js]: Basics","summary":"Learn about 3d web development with three.js - the most popular 3d web  development library.","tags":["html","js","Javascript","3d","frontend","beginner"],"date":{"updated":"Sun, 21 Jan 2024 18:30:00 PST","uploaded":"Sun, 21 Apr 2024 18:30:00 PST"},"links":{"to":["Web Dev 3D [Three.js]: Custom Objects"],"from":["Intro to Web Dev"]},"type":"tutorial"}},{"id":"Web Dev Fundamentals: Events","name":"Web Dev Fundamentals: Events","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":["tutorial","web-dev","fundamentals","events"],"title":"Web Dev Fundamentals: Events","summary":"Events are the main drivers for interactivity in the web. Let\'s take a  look at a couple of them and how we can react to them as developers.","tags":["html","js","Javascript","events","fundamentals","frontend","beginner"],"date":{"updated":"Tue, 14 Apr 2023 16:41:00 PST","uploaded":"Tue, 14 Apr 2023 16:41:00 PST"},"links":{"from":["Intro to Web Dev"]},"type":"tutorial"}},{"id":"Intro to data viz with Python [Plotly]","name":"Intro to data viz with Python [Plotly]","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":["tutorial","intro-to-data-visualization","python","plotly"],"title":"Intro to data viz with Python [Plotly]","summary":"This is the practical tutorial for learning data visualization basics with  plotly library - a derivative of the popular Javascript plottling library.","tags":["data","visualization","Plotly","Python","Flask","beginner"],"date":{"updated":"Tue, 5 Apr 2022 3:47:00 PST","uploaded":"Tue, 4 Apr 2022 18:20:00 PST"},"links":{"from":["Intro to data viz with Python"]},"type":"tutorial"}},{"id":"Intro to data viz with R","name":"Intro to data viz with R","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":["tutorial","intro-to-data-visualization","R"],"title":"Intro to data viz with R","summary":"Let\'s look at what data visualization looks like in R. Where do we  start? and what should we learn?","tags":["data","visualization","R","beginner"],"date":{"updated":"Tue, 5 Apr 2022 3:47:00 PST","uploaded":"Tue, 4 Apr 2022 18:20:00 PST"},"links":{"from":["Intro to Data Visualization"]},"type":"tutorial"}},{"id":"Intro to data viz with Python","name":"Intro to data viz with Python","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":["tutorial","intro-to-data-visualization","python"],"title":"Intro to data viz with Python","summary":"Let\'s look at what data visualization looks like in Python. Where do we  start? and what should we learn?","tags":["data","visualization","Matplotlib","Python","Plotly","Plotnine","Flask","beginner"],"date":{"updated":"Tue, 1 Apr 2021 15:46:00 PST","uploaded":"Tue, 1 Apr 2021 15:46:00 PST"},"type":"tutorial"}},{"id":"Making a URL shortener in Python","name":"Making a URL shortener in Python","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":["tutorial","making-a-url-shortener","python"],"title":"Making a URL shortener in Python","summary":"This is the practical tutorial after the designing-a-url-shortener article in which we implement the design specified in Python using Flask.","tags":["web developement","API","backend","server","Python","Flask","intermediate"],"date":{"updated":"Tue, 14 Dec 2021 18:34:32 GMT","uploaded":"Tue, 14 Dec 2021 18:34:32 GMT"},"type":"tutorial"}},{"id":"Hack at UCI 2023: Product Design & Web Dev Intro","name":"Hack at UCI 2023: Product Design & Web Dev Intro","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":["tutorial","webapp-demos","hack-at-uci-2023"],"title":"Hack at UCI 2023: Product Design & Web Dev Intro","summary":"For Hack at UCI 2023\'s first workshop of the event, we\'ll go over basic product design and then use what we\'ve learned there to translate into a basic web app. The focus here will be on the various parts that exist and how they interact with each other to form a cohesive app.","tags":["hackathon","HackAtUCI","web developement","Flask","frontend","backend","Yelp API","Yelp","Transloc"],"date":{"updated":"Wed Feb 01 2023 14:51:38 GMT-0800 (Pacific Standard Time)","uploaded":"Wed Feb 01 2023 14:51:38 GMT-0800 (Pacific Standard Time)"},"hidden":false,"links":{"from":["Intro to Web Dev"]},"type":"tutorial"}},{"id":"Design at UCI Fall 2023: Intro to Frontend Development","name":"Design at UCI Fall 2023: Intro to Frontend Development","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":["tutorial","webapp-demos","design-at-uci-fall-23"],"title":"Design at UCI Fall 2023: Intro to Frontend Development","summary":"This is Design at UCI\'s Fall 2023 event: Introduction to Frontend Development. We\'ll go over the basic of how to write HTML, CSS, and JS and learn the fundamental concepts.","tags":["Design","DesignAtUCI","web developement","frontend","Yelp","COVID","disease.sh"],"date":{"updated":"Sun Oct 29 2023 16:27:16 GMT-0700 (Pacific Daylight Time)","uploaded":"Sun Oct 29 2023 16:27:16 GMT-0700 (Pacific Daylight Time)"},"hidden":false,"links":{"from":["Intro to Web Dev"]},"type":"tutorial"}},{"id":"Zothacks 2023: Intro to Web Design","name":"Zothacks 2023: Intro to Web Design","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":["tutorial","webapp-demos","zothacks-web-design-2023"],"title":"Zothacks 2023: Intro to Web Design","summary":"Part two of Zothack\'s two part web development workshop where we show the process  of developing an recipe finding application from scratch. This workshop  focuses on the design aspect of web development and mostly covers design fundamentals and how to implement them in CSS","tags":["ZotHacks","Design","DesignAtUCI","web developement","frontend"],"date":{"updated":"Fri Nov 03 2023 04:45:45 GMT-0700 (Pacific Daylight Time)","uploaded":"Fri Nov 03 2023 04:45:45 GMT-0700 (Pacific Daylight Time)"},"hidden":false,"links":{"from":["Intro to Web Dev"]},"type":"tutorial"}},{"id":"Zothacks 2023: Intro to Web Development","name":"Zothacks 2023: Intro to Web Development","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":["tutorial","webapp-demos","zothacks-web-dev-2023"],"title":"Zothacks 2023: Intro to Web Development","summary":"Part one of Zothack\'s two part web development workshop where we show the process  of developing an recipe finding application from scratch. This workshop  focuses on the engineering part of web development and mostly covers just HTML and Javascript.","tags":["ZotHacks","Design","DesignAtUCI","web developement","frontend","spoontacular","recipe","javascript","HTML"],"date":{"updated":"Fri Nov 03 2023 04:45:45 GMT-0700 (Pacific Daylight Time)","uploaded":"Fri Nov 03 2023 04:45:45 GMT-0700 (Pacific Daylight Time)"},"hidden":false,"links":{"from":["Intro to Web Dev"]},"type":"tutorial"}},{"id":"Computer Science","name":"Computer Science","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":"/computer-science","title":"Computer Science","summary":"What is Computer Science? This is the central article that links to every other part of the site","tags":["beginner"],"date":{"updated":"Mon, 5 Feb 2024 18:57:32 PST","uploaded":"Mon, 5 Feb 2024 18:57:32 PST"},"links":{"to":["Intro to Web Dev","Intro to Data Visualization","Learning about HTTP requests"]},"value":100,"type":"article"}},{"id":"Introduction to API Calls","name":"Introduction to API Calls","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":"/api-call-introduction","title":"Introduction to API Calls","summary":"An intro to API calls. Expand your ability to create powerful applications by utilizing large datasets and other functionalities.","tags":["web developement","intermediate"],"date":{"updated":"Tue, 14 Dec 2021 18:34:32 GMT","uploaded":"Tue, 14 Dec 2021 18:34:32 GMT"},"type":"article"}},{"id":"Starting out with React","name":"Starting out with React","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":"/starting-out-with-react","title":"Starting out with React","summary":"An intro to React. We\'ll be drawing comparisons to how we would normally write code in vanilla javascript and see how it\'s simpler in React.","tags":["web developement","React","frontend","JS","intermediate"],"date":{"updated":"Tue, 14 Dec 2021 18:34:32 GMT","uploaded":"Tue, 14 Dec 2021 18:34:32 GMT"},"links":{"from":["Learning about HTTP requests"]},"type":"article"}},{"id":"Setting up React","name":"Setting up React","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":"/setting-up-react","title":"Setting up React","summary":"A quick start on how to set up React for coding.","tags":["web developement","React","frontend","JS","easy"],"date":{"updated":"Tue, 14 Dec 2021 18:34:32 GMT","uploaded":"Tue, 14 Dec 2021 18:34:32 GMT"},"links":{"to":["Starting out with React"]},"type":"article"}},{"id":"Designing a URL shortener","name":"Designing a URL shortener","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":"/designing-a-url-shortener","title":"Designing a URL shortener","summary":"You might have heard of services like Bit.ly or TinyURL and wondered, how are these URL shorteners made? We\'ll explore the designs of these systems and then code our own.","tags":["web developement","API","backend","server","intermediate"],"date":{"updated":"Tue, 14 Dec 2021 18:34:32 GMT","uploaded":"Tue, 14 Dec 2021 18:34:32 GMT"},"links":{"to":["Making a URL shortener in Python"]},"type":"article"}},{"id":"Intro to Web Dev","name":"Intro to Web Dev","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":"/intro-to-web-dev","title":"Intro to Web Dev","summary":"Assuming you have no experience with web development, we investigate the languages that make up the web and analyze a basic sample","tags":["HTML","CSS","JS","frontend","web developement","beginner"],"date":{"updated":"Wed, 17 Mar 2021 17:54:32 GMT","uploaded":"Wed, 17 Mar 2021 17:54:32 GMT"},"links":{"to":["Zothacks 2023: Intro to Web Design","Zothacks 2023: Intro to Web Development","Design at UCI Fall 2023: Intro to Frontend Development","Hack at UCI 2023: Product Design & Web Dev Intro","Hack at UCI 2024: Product Design & Web Dev Intro","Web Dev Fundamentals: Events","Web Dev 3D [Three.js]: Basics","Starting out with Flask","Starting out with React"],"from":["Computer Science"]},"type":"article"}},{"id":"Learning about HTTP requests","name":"Learning about HTTP requests","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":"/learning-about-http-requests","title":"Learning about HTTP requests","summary":"Here, we will take a look at how we are using HTTP requests whenever we browse the internet. Then, we can take a look at API\'s and how we can utilize http requests to call them and test them.","tags":["JS","HTTP requests","API","frontend","web developement"],"date":{"updated":"Thu, 18 Feb 2021 20:56:54 GMT","uploaded":"Thu, 18 Feb 2021 20:45:32 GMT"},"links":{"to":["Introduction to API Calls"]},"type":"article"}},{"id":"Starting out with Flask","name":"Starting out with Flask","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":"/starting-out-with-flask","title":"Starting out with Flask","summary":"Explore the Flask framework for Python and understand when we should use it. Then, we\'ll run our own Flask app in under 8 lines of code. Finally, we\'ll take look at the various use cases of Flask and you can decide which way you would prefer to use it.","tags":["Python","Flask","backend","server","web developement","beginner"],"date":{"updated":"Thu, 18 Feb 2021 03:43:45 GMT","uploaded":"Wed, 17 Feb 2021 23:08:03 GMT"},"links":{"to":["Making a URL shortener in Python"]},"type":"article"}},{"id":"Making a dark / light mode theme switcher","name":"Making a dark / light mode theme switcher","val":{"author":["Ryan Yang","https://ryqn.dev"],"link":"/making-a-theme-switcher","title":"Making a dark / light mode theme switcher","summary":"Learn how to setup a theme toggler with just CSS and Javascript. We\'ll be using CSS variables and utilizing Javascript functions to swap out styles. Then, we\'ll use Local Storage to save the theme and load it in future use.","tags":["HTML","CSS","JS","CSS Variables","LocalStorage","UI","frontend","web developement","beginner"],"date":{"updated":"Tue, 09 Feb 2021 17:33:38 GMT","uploaded":"Tue, 02 Feb 2021 14:16:25 GMT"},"links":{"from":["Intro to Web Dev"]},"type":"article"}}],"links":[{"source":"Intro to Data Visualization","target":"Intro to data viz with Python"},{"source":"Intro to Data Visualization","target":"Intro to data viz with R"},{"source":"Intro to Data Visualization","target":"Computer Science"},{"source":"Web Dev 3D [Three.js]: Custom Objects","target":"Web Dev 3D [Three.js]: Basics"},{"source":"Web Dev 3D [Three.js]: Basics","target":"Web Dev 3D [Three.js]: Custom Objects"},{"source":"Web Dev 3D [Three.js]: Basics","target":"Intro to Web Dev"},{"source":"Web Dev Fundamentals: Events","target":"Intro to Web Dev"},{"source":"Intro to data viz with Python [Plotly]","target":"Intro to data viz with Python"},{"source":"Intro to data viz with R","target":"Intro to Data Visualization"},{"source":"Hack at UCI 2023: Product Design & Web Dev Intro","target":"Intro to Web Dev"},{"source":"Design at UCI Fall 2023: Intro to Frontend Development","target":"Intro to Web Dev"},{"source":"Zothacks 2023: Intro to Web Design","target":"Intro to Web Dev"},{"source":"Zothacks 2023: Intro to Web Development","target":"Intro to Web Dev"},{"source":"Computer Science","target":"Intro to Web Dev"},{"source":"Computer Science","target":"Intro to Data Visualization"},{"source":"Computer Science","target":"Learning about HTTP requests"},{"source":"Starting out with React","target":"Learning about HTTP requests"},{"source":"Setting up React","target":"Starting out with React"},{"source":"Designing a URL shortener","target":"Making a URL shortener in Python"},{"source":"Intro to Web Dev","target":"Zothacks 2023: Intro to Web Design"},{"source":"Intro to Web Dev","target":"Zothacks 2023: Intro to Web Development"},{"source":"Intro to Web Dev","target":"Design at UCI Fall 2023: Intro to Frontend Development"},{"source":"Intro to Web Dev","target":"Hack at UCI 2023: Product Design & Web Dev Intro"},{"source":"Intro to Web Dev","target":"Hack at UCI 2024: Product Design & Web Dev Intro"},{"source":"Intro to Web Dev","target":"Web Dev Fundamentals: Events"},{"source":"Intro to Web Dev","target":"Web Dev 3D [Three.js]: Basics"},{"source":"Intro to Web Dev","target":"Starting out with Flask"},{"source":"Intro to Web Dev","target":"Starting out with React"},{"source":"Intro to Web Dev","target":"Computer Science"},{"source":"Learning about HTTP requests","target":"Introduction to API Calls"},{"source":"Starting out with Flask","target":"Making a URL shortener in Python"},{"source":"Making a dark / light mode theme switcher","target":"Intro to Web Dev"}]}'),ii=n(4848);var ai=()=>(0,ii.jsx)(r.PE,{children:(0,ii.jsx)("main",{children:(0,ii.jsx)(ri,{graphData:oi,nodeResolution:20,nodeRelSize:8,nodeVal:e=>{var t,n,r,o;let{val:i}=e;return null!==(t=null==i?void 0:i.value)&&void 0!==t?t:(null!==(n=null==i||null===(r=i.links)||void 0===r||null===(o=r.to)||void 0===o?void 0:o.length)&&void 0!==n?n:.1)/20},nodeColor:e=>{let{val:t}=e;return"Computer Science"===t.title?"#ff00ff":"tutorial"===t.type?"#00ffff":"article"===t.type?"#ffff00":"#ffffff"},linkWidth:.4})})})},1790:function(e){e.exports=function(e){!function(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}(e);var t=function(e){var t=Object.create(null);return{on:function(n,r,o){if("function"!=typeof r)throw new Error("callback is expected to be a function");var i=t[n];return i||(i=t[n]=[]),i.push({callback:r,ctx:o}),e},off:function(n,r){if(void 0===n)return t=Object.create(null),e;if(t[n])if("function"!=typeof r)delete t[n];else for(var o=t[n],i=0;i<o.length;++i)o[i].callback===r&&o.splice(i,1);return e},fire:function(n){var r,o=t[n];if(!o)return e;arguments.length>1&&(r=Array.prototype.splice.call(arguments,1));for(var i=0;i<o.length;++i){var a=o[i];a.callback.apply(a.ctx,r)}return e}}}(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e}},7348:function(e,t,n){e.exports=function(e,t){if(!e)throw new Error("Graph structure cannot be undefined");var i=(t&&t.createSimulator||n(6571))(t);if(Array.isArray(t))throw new Error("Physics settings is expected to be an object");var a=e.version>19?function(t){var n=e.getLinks(t);return n?1+n.size/3:1}:function(t){var n=e.getLinks(t);return n?1+n.length/3:1};t&&"function"==typeof t.nodeMass&&(a=t.nodeMass);var s=new Map,u={},c=0,l=i.settings.springTransform||o;c=0,e.forEachNode((function(e){v(e.id),c+=1})),e.forEachLink(y),e.on("changed",g);var d=!1,h={step:function(){if(0===c)return f(!0),!0;var e=i.step();h.lastMove=e,h.fire("step");var t=e/c<=.01;return f(t),t},getNodePosition:function(e){return _(e).pos},setNodePosition:function(e){var t=_(e);t.setPosition.apply(t,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(e){var t=u[e];if(t)return{from:t.from.pos,to:t.to.pos}},getGraphRect:function(){return i.getBBox()},forEachBody:p,pinNode:function(e,t){_(e.id).isPinned=!!t},isNodePinned:function(e){return _(e.id).isPinned},dispose:function(){e.off("changed",g),h.fire("disposed")},getBody:function(e){return s.get(e)},getSpring:function(t,n){var r;if(void 0===n)r="object"!=typeof t?t:t.id;else{var o=e.hasLink(t,n);if(!o)return;r=o.id}return u[r]},getForceVectorLength:function(){var e=0,t=0;return p((function(n){e+=Math.abs(n.force.x),t+=Math.abs(n.force.y)})),Math.sqrt(e*e+t*t)},simulator:i,graph:e,lastMove:0};return r(h),h;function f(e){var t;d!==e&&(d=e,t=e,h.fire("stable",t))}function p(e){s.forEach(e)}function g(t){for(var n=0;n<t.length;++n){var r=t[n];"add"===r.changeType?(r.node&&v(r.node.id),r.link&&y(r.link)):"remove"===r.changeType&&(r.node&&m(r.node),r.link&&b(r.link))}c=e.getNodesCount()}function v(t){var n=s.get(t);if(!n){var r=e.getNode(t);if(!r)throw new Error("initBody() was called with unknown node id");var o=r.position;if(!o){var a=function(e){var t=[];if(!e.links)return t;for(var n=Math.min(e.links.length,2),r=0;r<n;++r){var o=e.links[r],i=o.fromId!==e.id?s.get(o.fromId):s.get(o.toId);i&&i.pos&&t.push(i)}return t}(r);o=i.getBestNewBodyPosition(a)}(n=i.addBodyAt(o)).id=t,s.set(t,n),w(t),function(e){return e&&(e.isPinned||e.data&&e.data.isPinned)}(r)&&(n.isPinned=!0)}}function m(e){var t=e.id,n=s.get(t);n&&(s.delete(t),i.removeBody(n))}function y(e){w(e.fromId),w(e.toId);var t=s.get(e.fromId),n=s.get(e.toId),r=i.addSpring(t,n,e.length);l(e,r),u[e.id]=r}function b(t){var n=u[t.id];if(n){var r=e.getNode(t.fromId),o=e.getNode(t.toId);r&&w(r.id),o&&w(o.id),delete u[t.id],i.removeSpring(n)}}function w(e){var t=s.get(e);if(t.mass=a(e),Number.isNaN(t.mass))throw new Error("Node mass should be a number")}function _(e){var t=s.get(e);return t||(v(e),t=s.get(e)),t}},e.exports.simulator=n(6571);var r=n(1790);function o(){}},3789:function(e,t,n){const r=n(9169);e.exports=function(e){return function(t,n){let o=n&&n.indent||0,i=n&&void 0!==n.join?n.join:"\n",a=Array(o+1).join(" "),s=[];for(let u=0;u<e;++u){let e=r(u),n=0===u?"":a;s.push(n+t.replace(/{var}/g,e))}return s.join(i)}}},2758:function(e,t,n){e.exports=function(e){let t=o(e);return new Function("bodies","settings","random",t)},e.exports.generateFunctionBody=o;const r=n(3789);function o(e){let t=r(e);return`\n  var boundingBox = {\n    ${t("min_{var}: 0, max_{var}: 0,",{indent:4})}\n  };\n\n  return {\n    box: boundingBox,\n\n    update: updateBoundingBox,\n\n    reset: resetBoundingBox,\n\n    getBestNewPosition: function (neighbors) {\n      var ${t("base_{var} = 0",{join:", "})};\n\n      if (neighbors.length) {\n        for (var i = 0; i < neighbors.length; ++i) {\n          let neighborPos = neighbors[i].pos;\n          ${t("base_{var} += neighborPos.{var};",{indent:10})}\n        }\n\n        ${t("base_{var} /= neighbors.length;",{indent:8})}\n      } else {\n        ${t("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8})}\n      }\n\n      var springLength = settings.springLength;\n      return {\n        ${t("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8})}\n      };\n    }\n  };\n\n  function updateBoundingBox() {\n    var i = bodies.length;\n    if (i === 0) return; // No bodies - no borders.\n\n    ${t("var max_{var} = -Infinity;",{indent:4})}\n    ${t("var min_{var} = Infinity;",{indent:4})}\n\n    while(i--) {\n      // this is O(n), it could be done faster with quadtree, if we check the root node bounds\n      var bodyPos = bodies[i].pos;\n      ${t("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6})}\n      ${t("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6})}\n    }\n\n    ${t("boundingBox.min_{var} = min_{var};",{indent:4})}\n    ${t("boundingBox.max_{var} = max_{var};",{indent:4})}\n  }\n\n  function resetBoundingBox() {\n    ${t("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4})}\n  }\n`}},8379:function(e,t,n){const r=n(3789);function o(e,t){return`\n${a(e,t)}\n${i(e)}\nreturn {Body: Body, Vector: Vector};\n`}function i(e){let t=r(e),n=t("{var}",{join:", "});return`\nfunction Body(${n}) {\n  this.isPinned = false;\n  this.pos = new Vector(${n});\n  this.force = new Vector();\n  this.velocity = new Vector();\n  this.mass = 1;\n\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.reset = function() {\n  this.force.reset();\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.setPosition = function (${n}) {\n  ${t("this.pos.{var} = {var} || 0;",{indent:2})}\n};`}function a(e,t){let n=r(e),o="";return t&&(o=`${n("\n   var v{var};\nObject.defineProperty(this, '{var}', {\n  set: function(v) { \n    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');\n    v{var} = v; \n  },\n  get: function() { return v{var}; }\n});")}`),`function Vector(${n("{var}",{join:", "})}) {\n  ${o}\n    if (typeof arguments[0] === 'object') {\n      // could be another vector\n      let v = arguments[0];\n      ${n('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4})}\n      ${n("this.{var} = v.{var};",{indent:4})}\n    } else {\n      ${n('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4})}\n    }\n  }\n  \n  Vector.prototype.reset = function () {\n    ${n("this.{var} = ",{join:""})}0;\n  };`}e.exports=function(e,t){let n=o(e,t),{Body:r}=new Function(n)();return r},e.exports.generateCreateBodyFunctionBody=o,e.exports.getVectorCode=a,e.exports.getBodyCode=i},5226:function(e,t,n){const r=n(3789);function o(e){return`\n  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');\n\n  return {\n    update: function(body) {\n      ${r(e)("body.force.{var} -= options.dragCoefficient * body.velocity.{var};",{indent:6})}\n    }\n  };\n`}e.exports=function(e){let t=o(e);return new Function("options",t)},e.exports.generateCreateDragForceFunctionBody=o},2843:function(e,t,n){const r=n(3789);function o(e){let t=r(e);return`\n  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');\n  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');\n\n  return {\n    /**\n     * Updates forces acting on a spring\n     */\n    update: function (spring) {\n      var body1 = spring.from;\n      var body2 = spring.to;\n      var length = spring.length < 0 ? options.springLength : spring.length;\n      ${t("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6})}\n      var r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});\n\n      if (r === 0) {\n        ${t("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8})}\n        r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});\n      }\n\n      var d = r - length;\n      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;\n\n      ${t("body1.force.{var} += coefficient * d{var}",{indent:6})};\n      body1.springCount += 1;\n      body1.springLength += r;\n\n      ${t("body2.force.{var} -= coefficient * d{var}",{indent:6})};\n      body2.springCount += 1;\n      body2.springLength += r;\n    }\n  };\n`}e.exports=function(e){let t=o(e);return new Function("options","random",t)},e.exports.generateCreateSpringForceFunctionBody=o},8222:function(e,t,n){const r=n(3789);function o(e){let t=r(e);return`\n  var length = bodies.length;\n  if (length === 0) return 0;\n\n  ${t("var d{var} = 0, t{var} = 0;",{indent:2})}\n\n  for (var i = 0; i < length; ++i) {\n    var body = bodies[i];\n    if (body.isPinned) continue;\n\n    if (adaptiveTimeStepWeight && body.springCount) {\n      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);\n    }\n\n    var coeff = timeStep / body.mass;\n\n    ${t("body.velocity.{var} += coeff * body.force.{var};",{indent:4})}\n    ${t("var v{var} = body.velocity.{var};",{indent:4})}\n    var v = Math.sqrt(${t("v{var} * v{var}",{join:" + "})});\n\n    if (v > 1) {\n      // We normalize it so that we move within timeStep range. \n      // for the case when v <= 1 - we let velocity to fade out.\n      ${t("body.velocity.{var} = v{var} / v;",{indent:6})}\n    }\n\n    ${t("d{var} = timeStep * body.velocity.{var};",{indent:4})}\n\n    ${t("body.pos.{var} += d{var};",{indent:4})}\n\n    ${t("t{var} += Math.abs(d{var});",{indent:4})}\n  }\n\n  return (${t("t{var} * t{var}",{join:" + "})})/length;\n`}e.exports=function(e){let t=o(e);return new Function("bodies","timeStep","adaptiveTimeStepWeight",t)},e.exports.generateIntegratorFunctionBody=o},1756:function(e,t,n){const r=n(3789),o=n(9169);function i(e){let t=r(e),n=Math.pow(2,e);return`\n${l()}\n${c(e)}\n${a(e)}\n${u(e)}\n${s(e)}\n\nfunction createQuadTree(options, random) {\n  options = options || {};\n  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;\n  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;\n\n  var gravity = options.gravity;\n  var updateQueue = [];\n  var insertStack = new InsertStack();\n  var theta = options.theta;\n\n  var nodesCache = [];\n  var currentInCache = 0;\n  var root = newNode();\n\n  return {\n    insertBodies: insertBodies,\n\n    /**\n     * Gets root node if it is present\n     */\n    getRoot: function() {\n      return root;\n    },\n\n    updateBodyForce: update,\n\n    options: function(newOptions) {\n      if (newOptions) {\n        if (typeof newOptions.gravity === 'number') {\n          gravity = newOptions.gravity;\n        }\n        if (typeof newOptions.theta === 'number') {\n          theta = newOptions.theta;\n        }\n\n        return this;\n      }\n\n      return {\n        gravity: gravity,\n        theta: theta\n      };\n    }\n  };\n\n  function newNode() {\n    // To avoid pressure on GC we reuse nodes.\n    var node = nodesCache[currentInCache];\n    if (node) {\n${function(e){let t=[];for(let r=0;r<n;++r)t.push(`${e}quad${r} = null;`);return t.join("\n")}("      node.")}\n      node.body = null;\n      node.mass = ${t("node.mass_{var} = ",{join:""})}0;\n      ${t("node.min_{var} = node.max_{var} = ",{join:""})}0;\n    } else {\n      node = new QuadNode();\n      nodesCache[currentInCache] = node;\n    }\n\n    ++currentInCache;\n    return node;\n  }\n\n  function update(sourceBody) {\n    var queue = updateQueue;\n    var v;\n    ${t("var d{var};",{indent:4})}\n    var r; \n    ${t("var f{var} = 0;",{indent:4})}\n    var queueLength = 1;\n    var shiftIdx = 0;\n    var pushIdx = 1;\n\n    queue[0] = root;\n\n    while (queueLength) {\n      var node = queue[shiftIdx];\n      var body = node.body;\n\n      queueLength -= 1;\n      shiftIdx += 1;\n      var differentBody = (body !== sourceBody);\n      if (body && differentBody) {\n        // If the current node is a leaf node (and it is not source body),\n        // calculate the force exerted by the current node on body, and add this\n        // amount to body's net force.\n        ${t("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8})}\n        r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});\n\n        if (r === 0) {\n          // Poor man's protection against zero distance.\n          ${t("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}\n          r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});\n        }\n\n        // This is standard gravitation force calculation but we divide\n        // by r^3 to save two operations when normalizing force vector.\n        v = gravity * body.mass * sourceBody.mass / (r * r * r);\n        ${t("f{var} += v * d{var};",{indent:8})}\n      } else if (differentBody) {\n        // Otherwise, calculate the ratio s / r,  where s is the width of the region\n        // represented by the internal node, and r is the distance between the body\n        // and the node's center-of-mass\n        ${t("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8})}\n        r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});\n\n        if (r === 0) {\n          // Sorry about code duplication. I don't want to create many functions\n          // right away. Just want to see performance first.\n          ${t("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}\n          r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});\n        }\n        // If s / r < θ, treat this internal node as a single body, and calculate the\n        // force it exerts on sourceBody, and add this amount to sourceBody's net force.\n        if ((node.max_${o(0)} - node.min_${o(0)}) / r < theta) {\n          // in the if statement above we consider node's width only\n          // because the region was made into square during tree creation.\n          // Thus there is no difference between using width or height.\n          v = gravity * node.mass * sourceBody.mass / (r * r * r);\n          ${t("f{var} += v * d{var};",{indent:10})}\n        } else {\n          // Otherwise, run the procedure recursively on each of the current node's children.\n\n          // I intentionally unfolded this loop, to save several CPU cycles.\n${function(){let e=Array(11).join(" "),t=[];for(let r=0;r<n;++r)t.push(e+`if (node.quad${r}) {`),t.push(e+`  queue[pushIdx] = node.quad${r};`),t.push(e+"  queueLength += 1;"),t.push(e+"  pushIdx += 1;"),t.push(e+"}");return t.join("\n")}()}\n        }\n      }\n    }\n\n    ${t("sourceBody.force.{var} += f{var};",{indent:4})}\n  }\n\n  function insertBodies(bodies) {\n    ${t("var {var}min = Number.MAX_VALUE;",{indent:4})}\n    ${t("var {var}max = Number.MIN_VALUE;",{indent:4})}\n    var i = bodies.length;\n\n    // To reduce quad tree depth we are looking for exact bounding box of all particles.\n    while (i--) {\n      var pos = bodies[i].pos;\n      ${t("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6})}\n      ${t("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6})}\n    }\n\n    // Makes the bounds square.\n    var maxSideLength = -Infinity;\n    ${t("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4})}\n\n    currentInCache = 0;\n    root = newNode();\n    ${t("root.min_{var} = {var}min;",{indent:4})}\n    ${t("root.max_{var} = {var}min + maxSideLength;",{indent:4})}\n\n    i = bodies.length - 1;\n    if (i >= 0) {\n      root.body = bodies[i];\n    }\n    while (i--) {\n      insert(bodies[i], root);\n    }\n  }\n\n  function insert(newBody) {\n    insertStack.reset();\n    insertStack.push(root, newBody);\n\n    while (!insertStack.isEmpty()) {\n      var stackItem = insertStack.pop();\n      var node = stackItem.node;\n      var body = stackItem.body;\n\n      if (!node.body) {\n        // This is internal node. Update the total mass of the node and center-of-mass.\n        ${t("var {var} = body.pos.{var};",{indent:8})}\n        node.mass += body.mass;\n        ${t("node.mass_{var} += body.mass * {var};",{indent:8})}\n\n        // Recursively insert the body in the appropriate quadrant.\n        // But first find the appropriate quadrant.\n        var quadIdx = 0; // Assume we are in the 0's quad.\n        ${t("var min_{var} = node.min_{var};",{indent:8})}\n        ${t("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8})}\n\n${function(t){let n=[],r=Array(t+1).join(" ");for(let i=0;i<e;++i)n.push(r+`if (${o(i)} > max_${o(i)}) {`),n.push(r+`  quadIdx = quadIdx + ${Math.pow(2,i)};`),n.push(r+`  min_${o(i)} = max_${o(i)};`),n.push(r+`  max_${o(i)} = node.max_${o(i)};`),n.push(r+"}");return n.join("\n")}(8)}\n\n        var child = getChild(node, quadIdx);\n\n        if (!child) {\n          // The node is internal but this quadrant is not taken. Add\n          // subnode to it.\n          child = newNode();\n          ${t("child.min_{var} = min_{var};",{indent:10})}\n          ${t("child.max_{var} = max_{var};",{indent:10})}\n          child.body = body;\n\n          setChild(node, quadIdx, child);\n        } else {\n          // continue searching in this quadrant.\n          insertStack.push(child, body);\n        }\n      } else {\n        // We are trying to add to the leaf node.\n        // We have to convert current leaf into internal node\n        // and continue adding two nodes.\n        var oldBody = node.body;\n        node.body = null; // internal nodes do not cary bodies\n\n        if (isSamePosition(oldBody.pos, body.pos)) {\n          // Prevent infinite subdivision by bumping one node\n          // anywhere in this quadrant\n          var retriesCount = 3;\n          do {\n            var offset = random.nextDouble();\n            ${t("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12})}\n\n            ${t("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12})}\n            retriesCount -= 1;\n            // Make sure we don't bump it out of the box. If we do, next iteration should fix it\n          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));\n\n          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {\n            // This is very bad, we ran out of precision.\n            // if we do not return from the method we'll get into\n            // infinite loop here. So we sacrifice correctness of layout, and keep the app running\n            // Next layout iteration should get larger bounding box in the first step and fix this\n            return;\n          }\n        }\n        // Next iteration should subdivide node further.\n        insertStack.push(node, oldBody);\n        insertStack.push(node, body);\n      }\n    }\n  }\n}\nreturn createQuadTree;\n\n`}function a(e){let t=r(e);return`\n  function isSamePosition(point1, point2) {\n    ${t("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2})}\n  \n    return ${t("d{var} < 1e-8",{join:" && "})};\n  }  \n`}function s(e){var t=Math.pow(2,e);return`\nfunction setChild(node, idx, child) {\n  ${function(){let e=[];for(let n=0;n<t;++n){let t=0===n?"  ":"  else ";e.push(`${t}if (idx === ${n}) node.quad${n} = child;`)}return e.join("\n")}()}\n}`}function u(e){return`function getChild(node, idx) {\n${function(){let t=[],n=Math.pow(2,e);for(let e=0;e<n;++e)t.push(`  if (idx === ${e}) return node.quad${e};`);return t.join("\n")}()}\n  return null;\n}`}function c(e){let t=r(e),n=Math.pow(2,e);return`\nfunction QuadNode() {\n  // body stored inside this node. In quad tree only leaf nodes (by construction)\n  // contain bodies:\n  this.body = null;\n\n  // Child nodes are stored in quads. Each quad is presented by number:\n  // 0 | 1\n  // -----\n  // 2 | 3\n${function(e){let t=[];for(let r=0;r<n;++r)t.push(`${e}quad${r} = null;`);return t.join("\n")}("  this.")}\n\n  // Total mass of current node\n  this.mass = 0;\n\n  // Center of mass coordinates\n  ${t("this.mass_{var} = 0;",{indent:2})}\n\n  // bounding box coordinates\n  ${t("this.min_{var} = 0;",{indent:2})}\n  ${t("this.max_{var} = 0;",{indent:2})}\n}\n`}function l(){return"\n/**\n * Our implementation of QuadTree is non-recursive to avoid GC hit\n * This data structure represent stack of elements\n * which we are trying to insert into quad tree.\n */\nfunction InsertStack () {\n    this.stack = [];\n    this.popIdx = 0;\n}\n\nInsertStack.prototype = {\n    isEmpty: function() {\n        return this.popIdx === 0;\n    },\n    push: function (node, body) {\n        var item = this.stack[this.popIdx];\n        if (!item) {\n            // we are trying to avoid memory pressure: create new element\n            // only when absolutely necessary\n            this.stack[this.popIdx] = new InsertStackElement(node, body);\n        } else {\n            item.node = node;\n            item.body = body;\n        }\n        ++this.popIdx;\n    },\n    pop: function () {\n        if (this.popIdx > 0) {\n            return this.stack[--this.popIdx];\n        }\n    },\n    reset: function () {\n        this.popIdx = 0;\n    }\n};\n\nfunction InsertStackElement(node, body) {\n    this.node = node; // QuadTree node\n    this.body = body; // physical body which needs to be inserted to node\n}\n"}e.exports=function(e){let t=i(e);return new Function(t)()},e.exports.generateQuadTreeFunctionBody=i,e.exports.getInsertStackCode=l,e.exports.getQuadNodeCode=c,e.exports.isSamePosition=a,e.exports.getChildBodyCode=u,e.exports.setChildBodyCode=s},9169:function(e){e.exports=function(e){return 0===e?"x":1===e?"y":2===e?"z":"c"+(e+1)}},6571:function(e,t,n){e.exports=function(e){var t=n(8787),d=n(1277),h=n(1790);if(e){if(void 0!==e.springCoeff)throw new Error("springCoeff was renamed to springCoefficient");if(void 0!==e.dragCoeff)throw new Error("dragCoeff was renamed to dragCoefficient")}e=d(e,{springLength:10,springCoefficient:.8,gravity:-12,theta:.8,dragCoefficient:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2,debug:!1});var f=c[e.dimensions];if(!f){var p=e.dimensions;f={Body:r(p,e.debug),createQuadTree:o(p),createBounds:i(p),createDragForce:a(p),createSpringForce:s(p),integrate:u(p)},c[p]=f}var g=f.Body,v=f.createQuadTree,m=f.createBounds,y=f.createDragForce,b=f.createSpringForce,w=f.integrate,_=n(1304).random(42),k=[],x=[],j=v(e,_),P=m(k,e,_),O=b(e,_),S=y(e),T=[],E=new Map,C=0;I("nbody",(function(){if(0===k.length)return;j.insertBodies(k);var e=k.length;for(;e--;){var t=k[e];t.isPinned||(t.reset(),j.updateBodyForce(t),S.update(t))}})),I("spring",(function(){var e=x.length;for(;e--;)O.update(x[e])}));var M={bodies:k,quadTree:j,springs:x,settings:e,addForce:I,removeForce:function(e){var t=T.indexOf(E.get(e));if(t<0)return;T.splice(t,1),E.delete(e)},getForces:function(){return E},step:function(){for(var t=0;t<T.length;++t)T[t](C);var n=w(k,e.timeStep,e.adaptiveTimeStepWeight);return C+=1,n},addBody:function(e){if(!e)throw new Error("Body is required");return k.push(e),e},addBodyAt:function(e){if(!e)throw new Error("Body position is required");var t=(e=>new g(e))(e);return k.push(t),t},removeBody:function(e){if(e){var t=k.indexOf(e);if(!(t<0))return k.splice(t,1),0===k.length&&P.reset(),!0}},addSpring:function(e,n,r,o){if(!e||!n)throw new Error("Cannot add null spring to force simulator");"number"!=typeof r&&(r=-1);var i=new t(e,n,r,o>=0?o:-1);return x.push(i),i},getTotalMovement:function(){return 0},removeSpring:function(e){if(e){var t=x.indexOf(e);return t>-1?(x.splice(t,1),!0):void 0}},getBestNewBodyPosition:function(e){return P.getBestNewPosition(e)},getBBox:A,getBoundingBox:A,invalidateBBox:function(){console.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(t){return void 0!==t?(e.gravity=t,j.options({gravity:t}),this):e.gravity},theta:function(t){return void 0!==t?(e.theta=t,j.options({theta:t}),this):e.theta},random:_};return function(e,t){for(var n in e)l(e,t,n)}(e,M),h(M),M;function A(){return P.update(),P.box}function I(e,t){if(E.has(e))throw new Error("Force "+e+" is already added");E.set(e,t),T.push(t)}};var r=n(8379),o=n(1756),i=n(2758),a=n(5226),s=n(2843),u=n(8222),c={};function l(e,t,n){if(e.hasOwnProperty(n)&&"function"!=typeof t[n]){var r=Number.isFinite(e[n]);t[n]=r?function(r){if(void 0!==r){if(!Number.isFinite(r))throw new Error("Value of "+n+" should be a valid number.");return e[n]=r,t}return e[n]}:function(r){return void 0!==r?(e[n]=r,t):e[n]}}}},8787:function(e){e.exports=function(e,t,n,r){this.from=e,this.to=t,this.length=n,this.coefficient=r}},5261:function(e,t,n){e.exports=function(e){"uniqueLinkId"in(e=e||{})&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n","\n","Note: there is also change in default behavior: From now on each graph\nis considered to be not a multigraph by default (each edge is unique)."),e.multigraph=e.uniqueLinkId);void 0===e.multigraph&&(e.multigraph=!1);if("function"!=typeof Map)throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var t=new Map,n=new Map,u={},c=0,l=e.multigraph?function(e,t,n){var r=s(e,t),o=u.hasOwnProperty(r);if(o||P(e,t)){o||(u[r]=0);var i="@"+ ++u[r];r=s(e+i,t+i)}return new a(e,t,n,r)}:function(e,t,r){var o=s(e,t),i=n.get(o);if(i)return i.data=r,i;return new a(e,t,r,o)},d=[],h=O,f=O,p=O,g=O,v={version:20,addNode:b,addLink:function(e,t,r){p();var o=w(e)||b(e),a=w(t)||b(t),s=l(e,t,r),u=n.has(s.id);n.set(s.id,s),i(o,s),e!==t&&i(a,s);return h(s,u?"update":"add"),g(),s},removeLink:function(e,t){void 0!==t&&(e=P(e,t));return j(e)},removeNode:_,getNode:w,getNodeCount:k,getLinkCount:x,getEdgeCount:x,getLinksCount:x,getNodesCount:k,getLinks:function(e){var t=w(e);return t?t.links:null},forEachNode:E,forEachLinkedNode:function(e,n,r){var o=w(e);if(o&&o.links&&"function"==typeof n)return r?function(e,n,r){var o=e.values(),i=o.next();for(;!i.done;){var a=i.value;if(a.fromId===n&&r(t.get(a.toId),a))return!0;i=o.next()}}(o.links,e,n):function(e,n,r){var o=e.values(),i=o.next();for(;!i.done;){var a=i.value,s=a.fromId===n?a.toId:a.fromId;if(r(t.get(s),a))return!0;i=o.next()}}(o.links,e,n)},forEachLink:function(e){if("function"==typeof e)for(var t=n.values(),r=t.next();!r.done;){if(e(r.value))return!0;r=t.next()}},beginUpdate:p,endUpdate:g,clear:function(){p(),E((function(e){_(e.id)})),g()},hasLink:P,hasNode:w,getLink:P};return r(v),function(){var e=v.on;function t(){return v.beginUpdate=p=S,v.endUpdate=g=T,h=m,f=y,v.on=e,e.apply(v,arguments)}v.on=t}(),v;function m(e,t){d.push({link:e,changeType:t})}function y(e,t){d.push({node:e,changeType:t})}function b(e,n){if(void 0===e)throw new Error("Invalid node identifier");p();var r=w(e);return r?(r.data=n,f(r,"update")):(r=new o(e,n),f(r,"add")),t.set(e,r),g(),r}function w(e){return t.get(e)}function _(e){var n=w(e);if(!n)return!1;p();var r=n.links;return r&&(r.forEach(j),n.links=null),t.delete(e),f(n,"remove"),g(),!0}function k(){return t.size}function x(){return n.size}function j(e){if(!e)return!1;if(!n.get(e.id))return!1;p(),n.delete(e.id);var t=w(e.fromId),r=w(e.toId);return t&&t.links.delete(e),r&&r.links.delete(e),h(e,"remove"),g(),!0}function P(e,t){if(void 0!==e&&void 0!==t)return n.get(s(e,t))}function O(){}function S(){c+=1}function T(){0===(c-=1)&&d.length>0&&(v.fire("changed",d),d.length=0)}function E(e){if("function"!=typeof e)throw new Error("Function is expected to iterate over graph nodes. You passed "+e);for(var n=t.values(),r=n.next();!r.done;){if(e(r.value))return!0;r=n.next()}}};var r=n(1790);function o(e,t){this.id=e,this.links=null,this.data=t}function i(e,t){e.links?e.links.add(t):e.links=new Set([t])}function a(e,t,n,r){this.fromId=e,this.toId=t,this.data=n,this.id=r}function s(e,t){return e.toString()+"👉 "+t.toString()}},1277:function(e){e.exports=function e(t,n){var r;t||(t={});if(n)for(r in n)if(n.hasOwnProperty(r)){var o=t.hasOwnProperty(r),i=typeof n[r];!o||typeof t[r]!==i?t[r]=n[r]:"object"===i&&(t[r]=e(t[r],n[r]))}return t}},1304:function(e){function t(e){return new n("number"==typeof e?e:+new Date)}function n(e){this.seed=e}function r(e){return Math.sqrt(2*Math.PI/e)*Math.pow(1/Math.E*(e+1/(12*e-1/(10*e))),e)}function o(){var e=this.seed;return e=4294967295&(3042594569^(e=(e=4294967295&((e=(e=4294967295&(3345072700^(e=e+2127912214+(e<<12)&4294967295)^e>>>19))+374761393+(e<<5)&4294967295)+3550635116^e<<9))+4251993797+(e<<3)&4294967295)^e>>>16),this.seed=e,(268435455&e)/268435456}e.exports=t,e.exports.random=t,e.exports.randomIterator=function(e,n){var r=n||t();if("function"!=typeof r.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(t){var n,o,i;for(n=e.length-1;n>0;--n)o=r.next(n+1),i=e[o],e[o]=e[n],e[n]=i,t(i);e.length&&t(e[0])},shuffle:function(){var t,n,o;for(t=e.length-1;t>0;--t)n=r.next(t+1),o=e[n],e[n]=e[t],e[t]=o;return e}}},n.prototype.next=function(e){return Math.floor(this.nextDouble()*e)},n.prototype.nextDouble=o,n.prototype.uniform=o,n.prototype.gaussian=function(){var e,t,n;do{e=(t=2*this.nextDouble()-1)*t+(n=2*this.nextDouble()-1)*n}while(e>=1||0===e);return t*Math.sqrt(-2*Math.log(e)/e)},n.prototype.levy=function(){var e=1.5,t=Math.pow(r(2.5)*Math.sin(Math.PI*e/2)/(r(1.25)*e*Math.pow(2,.25)),1/e);return this.gaussian()*t/Math.pow(Math.abs(this.gaussian()),1/e)}}}]);
//# sourceMappingURL=component---src-pages-explore-index-tsx-294218741c9985f47abc.js.map